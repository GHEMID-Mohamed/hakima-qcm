(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/exam-date.a5307ef7.jpg"},104:function(e,t,a){e.exports=a.p+"static/media/exam-correct-answers.f6a6305a.png"},106:function(e,t,a){e.exports=a.p+"static/media/ocr-scan.5a2f8493.jpg"},109:function(e,t,a){e.exports=a.p+"static/media/contribute.a9fbf540.png"},11:function(e,t,a){e.exports=a.p+"static/media/button-spinner.44271f65.gif"},110:function(e,t,a){e.exports=a.p+"static/media/exam.ebbc4cf7.png"},111:function(e,t,a){e.exports=a.p+"static/media/pile-stack-idea.cdf73937.jpg"},112:function(e,t,a){e.exports=a.p+"static/media/pile-password.6389b4d7.jpg"},113:function(e,t,a){e.exports=a.p+"static/media/pile-stack-lamp.82309d59.jpg"},114:function(e,t,a){e.exports=a.p+"static/media/pile-stack.b64503d7.jpg"},132:function(e,t,a){e.exports=a(208)},188:function(e,t,a){},191:function(e,t,a){},193:function(e,t,a){},206:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);var n,r,c,l,o=a(0),i=a.n(o),s=a(25),u=a.n(s),m=a(6),d=a(5),p=a.n(d),E=a(7),f=a(35),h=a.n(f),v=a(68),g=a.n(v),x=(a(141),a(49)),b=a.n(x),y=(a(142),a(143),a(17)),w=a(82),k=a(2),j=a(63),O=a(211),S=a(210),C=a(181),N=a(212),A=a(209),z=a(3),D=a(9),P=a(38),I=a.n(P),L=Object(z.provideState)({initialState:function(){return{dropdownOpen:!1}},effects:{toggle:function(){return function(e){return Object(m.a)({},e,{dropdownOpen:!e.dropdownOpen})}}}}),M=L(Object(z.injectState)(function(e){var t=e.effects,a=e.state;e.history;return i.a.createElement(k.n,{nav:!0,direction:"down",isOpen:a.dropdownOpen,toggle:t.toggle},i.a.createElement(k.q,{nav:!0,caret:!0,style:{color:"#e2e3e4"},className:"hvr-icon-fade"},i.a.createElement(I.a,{size:"20",className:"hvr-icon"})," \xa0 Profile"),i.a.createElement(k.p,{style:{backgroundColor:"#222534"}},i.a.createElement(k.o,{header:!0},a.serverInstance.auth.user.profile.data.email),i.a.createElement(k.o,{onClick:t.logOut,style:{color:"#e2e3e4",fontSize:"18px"},className:"hvr-bounce-to-right"},"D\xe9connecter")))})),q=a(84),Q=a.n(q),R=a(11),V=a.n(R),T=Object(z.provideState)({initialState:function(){return{loading:!1}},effects:{initialize:function(e){return function(t,a){var n=a.form;n&&document.getElementById(n).addEventListener("submit",e.executeAction)}},executeAction:function(e,t){return function(){var a=Object(E.a)(p.a.mark(function a(n,r){var c,l;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=r.action,l=r.afterEffect,t&&t.preventDefault(),!c){a.next=17;break}return n.loading=!0,a.prev=4,a.next=7,c();case 7:if(!l){a.next=10;break}return a.next=10,l();case 10:a.next=16;break;case 12:a.prev=12,a.t0=a.catch(4),console.log(a.t0),e.handleError(a.t0);case 16:n.loading=!1;case 17:case"end":return a.stop()}},a,this,[[4,12]])}));return function(e,t){return a.apply(this,arguments)}}()}},finalize:function(e){return function(t,a){var n=a.form;n&&document.getElementById(n).removeEventListener("submit",e.executeAction)}}}),_=T(Object(z.injectState)(function(e){var t=e.color,a=e.effects,n=e.disabled,r=e.outline,c=e.state,l=e.text,o=e.width,s=e.form,u=(e.block,{disabled:c.loading||n,outline:"true"===r,style:{width:"".concat(o,"px")}});return u.color=t||"dark",s?u.type="submit":u.onClick=a.executeAction,i.a.createElement(k.c,Object.assign({},u,{block:!0}),l," \xa0"," ",c.loading&&i.a.createElement("img",{src:V.a,alt:"button spinner",height:"20",width:"20"}))})),Y=Object(z.provideState)({initialState:function(){return{id:"",password:""}},effects:{handleId:function(e,t){var a=t.target.value;return function(e){return Object(m.a)({},e,{id:a})}},handlePassword:function(e,t){var a=t.target.value;return function(e){return Object(m.a)({},e,{password:a})}},loginAdmin:function(e,t){return function(){var a=Object(E.a)(p.a.mark(function a(n,r){var c;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t&&t.preventDefault(),"admin@admin.dz"!==n.id){a.next=15;break}return a.prev=2,c=new y.f(n.id,n.password),a.next=6,n.serverInstance.auth.loginWithCredential(c);case 6:a.sent,e.setAdminLogged(),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),e.handleError(a.t0);case 13:a.next=16;break;case 15:e.notifyError("Mot de passe incorrect !");case 16:case"end":return a.stop()}},a,this,[[2,10]])}));return function(e,t){return a.apply(this,arguments)}}()}}}),B=Y(Object(z.injectState)(function(e){var t=e.effects,a=e.state;return i.a.createElement(k.e,{body:!0,style:{marginTop:"50px"}},i.a.createElement("h3",{className:"text-center",style:{marginBottom:"30px"}},"Administration ",i.a.createElement(Q.a,null)),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.r,{id:"login-form"},i.a.createElement(k.t,null,i.a.createElement(k.u,{type:"email",placeholder:"User !",value:a.id,onChange:t.handleId,required:!0})),i.a.createElement(k.t,null,i.a.createElement(k.u,{type:"password",placeholder:"Mot de passe !",value:a.password,onChange:t.handlePassword,required:!0})),i.a.createElement(_,{text:i.a.createElement("span",{style:{fontWeight:"bold"}},"Connexion"),color:"info",action:t.loginAdmin,form:"login-form"}),i.a.createElement("br",null)))))})),W=a(26),F=a.n(W),U=a(39),H=a.n(U),G=a(31),$=a.n(G),K=a(40),J=a.n(K),X=a(85),Z=a.n(X),ee=a(41),te=a.n(ee),ae=a(55),ne=a.n(ae),re=a(12),ce=a.n(re),le=a(86),oe=a.n(le),ie=a(87),se=a.n(ie),ue=a(88),me=a.n(ue),de=a(89),pe=a.n(de),Ee=a(90),fe=a.n(Ee),he=a(42),ve=a.n(he),ge=a(91),xe=a.n(ge),be=fe()(250)(k.u),ye=Object(z.provideState)({initialState:function(e){return{page:1,sortDirection:e.initialSortDirection||void 0,sortIteratee:e.initialSortIteratee||void 0}},effects:{selectPreviousPage:function(e){return function(t){e._setPage(t.page-1)}},selectNextPage:function(e){return function(t){e._setPage(t.page+1)}},setPage:function(e,t){var a=t.target,n=a.value,r=a.dataset;(n=+n)>0&&n<=r.numberofpages&&e._setPage(n)},sortBy:function(e,t){var a,n=t.currentTarget.dataset;return a=n.sortIteratee,function(e){var t=e.sortIteratee!==a?"desc":"asc"===e.sortDirection?"desc":"asc";return Object(m.a)({},e,{sortDirection:t,sortIteratee:a})}},_setPage:function(e,t){return function(e){return Object(m.a)({},e,{page:t})}}},computed:{numberItemsPerPage:function(e,t){return t.itemsPerPage||10},sortedValues:function(e,t){var a=e.sortDirection,n=e.sortIteratee,r=t.filteredCollection;return void 0===n?r:(n=Object(D.iteratee)(n),Object(D.orderBy)(r,function(e){var t=n(e);return"string"===typeof t?t.toLowerCase():t},a))},numberOfPages:function(e){var t=e.numberItemsPerPage,a=e.sortedValues;return Math.ceil(a.length/t)||1},visibleValues:function(e){var t=e.numberItemsPerPage,a=e.page;return e.sortedValues.slice((a-1)*t,a*t)}}}),we=ye(Object(z.injectState)(function(e){var t=e.collection,a=e.columns,n=(e.data,e.effects),r=(e.filter,e.filteredCollection),c=e.pagination,l=e.state,o=e.uniqueKey;return i.a.createElement("div",null,void 0===t?i.a.createElement(k.L,{className:"my-3"},i.a.createElement(k.k,{md:{size:2,offset:5}},i.a.createElement("br",null),i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:V.a,width:"50",height:"50",alt:"Loading..."})),i.a.createElement("p",{className:"text-muted text-center"},"Examens post\xe9s en chargement ..."))):0===r.length?i.a.createElement("h3",{className:"text-center text-muted"},i.a.createElement("br",null),"Pas d'examens ajout\xe9s :( \xa0",i.a.createElement(ve.a,{size:"30"}),i.a.createElement("br",null)):i.a.createElement("div",null,i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.O,{hover:!0,striped:!0,size:"sm"},i.a.createElement("thead",null,i.a.createElement("tr",null,Object(D.map)(a,function(e){return void 0===e.sortIteratee?i.a.createElement("th",{key:e.name},e.name):i.a.createElement("th",{"data-sort-iteratee":e.sortIteratee,key:e.name,onClick:n.sortBy,style:{cursor:"pointer"}},e.name," \xa0",l.sortIteratee===e.sortIteratee?"desc"===l.sortDirection?i.a.createElement(me.a,null):i.a.createElement(pe.a,null):i.a.createElement(xe.a,null))}))),i.a.createElement("tbody",null,Object(D.map)(l.visibleValues,function(e){return i.a.createElement("tr",{key:e[o]},Object(D.map)(a,function(t){return i.a.createElement("td",{key:t.name,style:{verticalAlign:"center"}},t.itemRenderer(e,l,n))}))}))))),c&&i.a.createElement(k.L,null,i.a.createElement(k.k,{md:{size:6,offset:3}},i.a.createElement(k.v,null,i.a.createElement(k.w,{addonType:"prepend"},i.a.createElement(k.c,{disabled:1===l.page,onClick:n.selectPreviousPage},i.a.createElement(oe.a,null)," Previous")),i.a.createElement(be,{"data-numberofpages":l.numberOfPages,onChange:n.setPage,type:"number",value:l.page}),i.a.createElement(k.w,{addonType:"append"},"/"),i.a.createElement(k.u,{disabled:!0,value:l.numberOfPages}),i.a.createElement(k.w,{addonType:"append"},i.a.createElement(k.c,{disabled:l.page===l.numberOfPages,onClick:n.selectNextPage},"Next ",i.a.createElement(se.a,null))))))))})),ke=function(){return Math.random().toString(36).substring(7)},je=a(14),Oe=a(4),Se=a.n(Oe),Ce=Object(z.provideState)({initialState:function(){return{allPostedExams:void 0,allUnpostedExams:void 0,activeTab:"posted"}},effects:{initialize:function(e){e.getAllPostedExams(),e.getAllUnPostedExams()},getAllPostedExams:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.allPostedExams=void 0,t.next=4,a.mongodb.find({completed:!0},{sort:{date:-1}}).asArray();case 4:n=t.sent,a.allPostedExams=n,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.handleError(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},toggle:function(e,t){return function(e){return Object(m.a)({},e,{activeTab:t})}},getAllUnPostedExams:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.allUnpostedExams=void 0,t.next=4,a.mongodb.find({completed:!1},{sort:{date:-1}}).asArray();case 4:n=t.sent,a.allUnpostedExams=n,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.handleError(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},acceptExam:function(e,t){return function(){var a=Object(E.a)(p.a.mark(function a(n){var r;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=new je.a(t),a.next=4,n.mongodb.updateOne({_id:r},{$set:{approved:!0}},{upsert:!0});case 4:e.getAllPostedExams(),e.getLastPostedExams(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),e.handleError(a.t0);case 11:case"end":return a.stop()}},a,this,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},declineExam:function(e,t){return function(){var a=Object(E.a)(p.a.mark(function a(n){var r;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=new je.a(t),a.next=4,n.mongodb.updateOne({_id:r},{$set:{approved:!1}},{upsert:!0});case 4:e.getAllPostedExams(),e.getLastPostedExams(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),e.handleError(a.t0);case 11:case"end":return a.stop()}},a,this,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},deleteExam:function(e,t){return function(){var a=Object(E.a)(p.a.mark(function a(n){var r;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=new je.a(t),a.next=4,n.mongodb.deleteOne({_id:r});case 4:e.getAllPostedExams(),e.getAllUnPostedExams(),e.notifySuccess("Examen bien supprim\xe9 !"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),e.handleError(a.t0);case 12:case"end":return a.stop()}},a,this,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()}}}),Ne=[{name:"Module",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"info"},e.module))},sortIteratee:"module"},{name:"Universit\xe9",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},e.university))},sortIteratee:"university"},{name:"Session",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},ce()(e.examDate).format("DD-MM-YYYY")))},sortIteratee:"examDate"},{name:"Date de cr\xe9ation",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},ce()(e.date).format("DD-MM-YYYY")))},sortIteratee:"date"},{name:"Auteur",itemRenderer:function(e,t,a){return i.a.createElement(k.b,{color:"light"},e.creator)},sortIteratee:void 0},{name:"Vue",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},e.seen||0," \xa0 ",i.a.createElement(F.a,null)))},sortIteratee:"seen"},{name:"Preuve",itemRenderer:function(e,t,a){return i.a.createElement("a",{href:e.examProof,target:"_blank"},i.a.createElement(Z.a,{size:"20"}))},sortIteratee:"seen"},{name:"Et\xe2t",itemRenderer:function(e,t,a){var n=ke();return e.completed?i.a.createElement(o.Fragment,null,i.a.createElement($.a,{color:"green",size:"25",id:"complete-icon-".concat(n)}),i.a.createElement(k.Q,{placement:"top",target:"complete-icon-".concat(n)},"Complet")):i.a.createElement(o.Fragment,null,i.a.createElement(H.a,{color:"orange",size:"25",id:"incomplete-icon-".concat(n)}),i.a.createElement(k.Q,{placement:"top",target:"incomplete-icon-".concat(n)},"Incomplet"))},sortIteratee:void 0},{name:"Action",itemRenderer:function(e,t,a){return e.completed?i.a.createElement(C.a,{className:"btn btn-outline-dark",to:"/contribuer/".concat(e._id.toString()),target:"_blank"},"Modifier"):i.a.createElement(C.a,{className:"btn btn-outline-info",target:"_blank",to:"/contribuer/".concat(e._id.toString())},"Compl\xe9ter")},sortIteratee:void 0},{name:"Published",itemRenderer:function(e,t,a){var n=ke();return e.approved?i.a.createElement(o.Fragment,null,i.a.createElement(J.a,{color:"green",size:"25",id:"published-icon-".concat(n)}),i.a.createElement(k.Q,{placement:"top",target:"published-icon-".concat(n)},"Votre examen est en ligne")):i.a.createElement(o.Fragment,null,i.a.createElement(ne.a,{color:"orange",size:"25",id:"on-verification-icon-".concat(n)}),i.a.createElement(k.Q,{placement:"top",target:"on-verification-icon-".concat(n)},"En v\xe9rification"))},sortIteratee:void 0},{name:"",itemRenderer:function(e,t,a){return i.a.createElement(k.c,{color:"danger",outline:!0,onClick:function(){window.confirm("Etes vous s\xfbr de vouloir abondonner cet examen ?")&&a.deleteExam(e._id.toString())}},i.a.createElement(te.a,{size:"20"}))},sortIteratee:void 0},{name:"",itemRenderer:function(e,t,a){return e.approved?i.a.createElement(k.c,{outline:!0,color:"warning",onClick:function(){return a.declineExam(e._id)}},"Cacher"):i.a.createElement(k.c,{outline:!0,color:"success",onClick:function(){return a.acceptExam(e._id)}},"Publier")},sortIteratee:void 0}],Ae=Ce(Object(z.injectState)(function(e){var t=e.effects,a=e.state;e.history;return i.a.createElement(k.e,{body:!0},i.a.createElement(k.F,{tabs:!0,fill:!0},i.a.createElement(k.G,{style:{cursor:"pointer",fontWeight:"bold"}},i.a.createElement(k.H,{className:Se()({active:"posted"===a.activeTab}),onClick:function(){t.toggle("posted")}},"Examen complets")),i.a.createElement(k.G,{style:{cursor:"pointer",fontWeight:"bold"}},i.a.createElement(k.H,{className:Se()({active:"unposted"===a.activeTab}),onClick:function(){t.toggle("unposted")}},"Examen incomplets"))),i.a.createElement(k.M,{activeTab:a.activeTab},i.a.createElement(k.N,{tabId:"posted"},i.a.createElement(we,{columns:Ne,collection:a.allPostedExams,filteredCollection:a.allPostedExams,initialSortIteratee:"date",initialSortDirection:"desc",pagination:a.allPostedExams&&a.allPostedExams.length>10,uniqueKey:"_id"})),i.a.createElement(k.N,{tabId:"unposted"},i.a.createElement(we,{columns:Ne,collection:a.allUnpostedExams,filteredCollection:a.allUnpostedExams,initialSortIteratee:"date",initialSortDirection:"desc",pagination:a.allUnpostedExams&&a.allUnpostedExams.length>10,uniqueKey:"_id"}))))})),ze=a(32),De=a.n(ze),Pe=Object(z.provideState)({initialState:function(){return{allPostedReports:void 0}},effects:{initialize:function(e){e.getAllReports()},getAllReports:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.allPostedReports=void 0,t.next=4,a.mongodb.find({type:"report"}).asArray();case 4:n=t.sent,a.allPostedReports=n,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.handleError(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},setAsNotCorrected:function(e,t){return function(){var a=Object(E.a)(p.a.mark(function a(n){var r;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=new je.a(t),a.next=4,n.mongodb.updateOne({_id:r},{$set:{corrected:!1}},{upsert:!0});case 4:e.getAllReports(),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e.handleError(a.t0);case 10:case"end":return a.stop()}},a,this,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()},setAsCorrected:function(e,t){return function(){var a=Object(E.a)(p.a.mark(function a(n){var r;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=new je.a(t),a.next=4,n.mongodb.updateOne({_id:r},{$set:{corrected:!0}},{upsert:!0});case 4:e.getAllReports(),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e.handleError(a.t0);case 10:case"end":return a.stop()}},a,this,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()}}}),Ie=[{name:"Auteur",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},e.creator))},sortIteratee:void 0},{name:"Message",itemRenderer:function(e,t,a){return i.a.createElement(k.e,{body:!0},e.reportMessage)},sortIteratee:void 0},{name:"Action",itemRenderer:function(e,t,a){return i.a.createElement(C.a,{className:"btn btn-outline-dark",target:"_blank",to:"/contribuer/".concat(e.examId)},"Modifier")},sortIteratee:void 0},{name:"Corrig\xe9",itemRenderer:function(e,t,a){return e.corrected?i.a.createElement($.a,{size:"25",color:"green"}):i.a.createElement(De.a,{size:"25",color:"red"})},sortIteratee:void 0},{name:"",itemRenderer:function(e,t,a){return e.corrected?i.a.createElement(k.c,{outline:!0,color:"dark",onClick:function(){return a.setAsNotCorrected(e._id)}},"Marquer comme pas corrig\xe9"):i.a.createElement(k.c,{outline:!0,color:"success",onClick:function(){return a.setAsCorrected(e._id)}},"Marquer comme corrig\xe9")},sortIteratee:void 0}],Le=Pe(Object(z.injectState)(function(e){e.effects;var t=e.state;e.history;return i.a.createElement(k.e,{body:!0},i.a.createElement(we,{columns:Ie,collection:t.allPostedReports,filteredCollection:t.allPostedReports,initialSortIteratee:"date",initialSortDirection:"desc",pagination:t.allPostedReports&&t.allPostedReports.length>10,uniqueKey:"_id"}))})),Me=Object(z.provideState)({initialState:function(){return{messages:void 0}},effects:{initialize:function(e){e.getAllSentMessages()},getAllSentMessages:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.messages=void 0,t.next=4,a.mongodb.find({type:"message"}).asArray();case 4:n=t.sent,a.messages=n,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.handleError(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()}}}),qe=[{name:"Auteur",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},e.creator&&e.creator))},sortIteratee:void 0},{name:"Message",itemRenderer:function(e,t,a){return i.a.createElement(k.e,{body:!0},e.message)},sortIteratee:"message"},{name:"Email",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"info"},e.email))},sortIteratee:void 0},{name:"Date",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},ce()(e.date).format("DD-MM-YYYY")))},sortIteratee:"date"}],Qe=Me(Object(z.injectState)(function(e){e.effects;var t=e.state;e.history;return i.a.createElement(k.e,{body:!0},i.a.createElement(we,{columns:qe,collection:t.messages,filteredCollection:t.messages,initialSortIteratee:"date",initialSortDirection:"desc",pagination:t.messages&&t.messages.length>10,uniqueKey:"_id"}))})),Re=Object(z.provideState)({initialState:function(){return{activeTab:"Approbation d'examns"}},effects:{toggle:function(e,t){return function(e){return Object(m.a)({},e,{activeTab:t})}}}}),Ve=Re(Object(z.injectState)(function(e){var t=e.effects,a=e.state,n=e.history;return i.a.createElement(k.L,null,i.a.createElement(k.k,null,a.adminLogged&&i.a.createElement(o.Fragment,null,i.a.createElement(k.F,{tabs:!0,fill:!0},i.a.createElement(k.G,{style:{cursor:"pointer",fontWeight:"bold"}},i.a.createElement(k.H,{className:Se()({active:"Approbation d'examns"===a.activeTab}),onClick:function(){t.toggle("Approbation d'examns")}},"Approbation d'examns")),i.a.createElement(k.G,{style:{cursor:"pointer",fontWeight:"bold"}},i.a.createElement(k.H,{className:Se()({active:"Signalisation d'examens"===a.activeTab}),onClick:function(){t.toggle("Signalisation d'examens")}},"Signalisation d'examens")),i.a.createElement(k.G,{style:{cursor:"pointer",fontWeight:"bold"}},i.a.createElement(k.H,{className:Se()({active:"Messages utilisateurs"===a.activeTab}),onClick:function(){t.toggle("Messages utilisateurs")}},"Messages utilisateurs"))),i.a.createElement(k.M,{activeTab:a.activeTab},i.a.createElement(k.N,{tabId:"Approbation d'examns"},i.a.createElement(Ae,{history:n})),i.a.createElement(k.N,{tabId:"Signalisation d'examens"},i.a.createElement(Le,{history:n})),i.a.createElement(k.N,{tabId:"Messages utilisateurs"},i.a.createElement(Qe,{history:n})))),!a.adminLogged&&i.a.createElement(k.L,null,i.a.createElement(k.k,{md:{size:4,offset:4}},i.a.createElement(B,{onAdminLogged:t.setAdminLogged,history:n})))))})),Te=a(56),_e=a.n(Te),Ye=a(57),Be=a.n(Ye),We=a(92),Fe=a.n(We),Ue=a(58),He=a.n(Ue),Ge=Object(z.provideState)({initialState:function(){return{id:"",resetPasswordEmailSent:!1,loading:!1}},effects:{handleId:function(e,t){var a=t.target.value;return function(e){return Object(m.a)({},e,{id:a})}},resetPassword:function(e){return function(t){t.serverInstance.auth.getProviderClient(y.e.factory).sendResetPasswordEmail(t.id).then(function(){t.resetPasswordEmailSent=!0}).catch(function(t){e.handleError(t)})}}}}),$e=Ge(Object(z.injectState)(function(e){var t=e.effects,a=e.state;return i.a.createElement(k.L,null,i.a.createElement(k.k,null,a.loading?i.a.createElement(k.k,{md:{size:2,offset:5}},i.a.createElement("img",{src:V.a,alt:"Loading...",height:"100",width:"100"})):a.resetPasswordEmailSent?i.a.createElement("div",{className:"text-center"},i.a.createElement(He.a,{color:"green",size:"35",style:{marginBottom:"5px"}}),i.a.createElement("p",{className:"text-center"},"Un email de r\xe9nitialisation de mot de passe est envoy\xe9 \xe0 votre adresse e-mail")):i.a.createElement(k.r,{id:"reset-form"},i.a.createElement(k.t,null,i.a.createElement(k.u,{type:"email",placeholder:"Entrez votre email !",value:a.id,onChange:t.handleId,required:!0})),i.a.createElement(_,{text:i.a.createElement("span",{style:{fontWeight:"bold"}},"Reset password"),color:"success",action:t.resetPassword,form:"reset-form"}))))})),Ke=Object(z.provideState)({initialState:function(){return{id:"",password:"",resetPasswordView:!1}},effects:{handleId:function(e,t){var a=t.target.value;return function(e){return Object(m.a)({},e,{id:a})}},handlePassword:function(e,t){var a=t.target.value;return function(e){return Object(m.a)({},e,{password:a})}},logIn:function(e,t){return function(){var a=Object(E.a)(p.a.mark(function a(n,r){var c,l;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t&&t.preventDefault(),a.prev=1,c=new y.f(n.id,n.password),a.next=5,n.serverInstance.auth.loginWithCredential(c);case 5:return l=a.sent,a.next=8,e.signIn(l.id);case 8:r.history.push("/"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),e.handleError(a.t0);case 14:case"end":return a.stop()}},a,this,[[1,11]])}));return function(e,t){return a.apply(this,arguments)}}()},displayResetPassword:function(){return function(e){return Object(m.a)({},e,{resetPasswordView:!0})}}}}),Je=Ke(Object(z.injectState)(function(e){var t=e.effects,a=e.state;return i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.r,{id:"login-form"},i.a.createElement(k.t,null,i.a.createElement(k.u,{autoFocus:!0,type:"email",placeholder:"Email !",value:a.id,onChange:t.handleId,required:!0})),i.a.createElement(k.t,null,i.a.createElement(k.u,{type:"password",placeholder:"Mot de passe !",value:a.password,onChange:t.handlePassword,required:!0})),i.a.createElement(_,{text:i.a.createElement("span",{style:{fontWeight:"bold"}},"Connexion"),color:"info",action:t.logIn,form:"login-form"}),i.a.createElement("br",null),i.a.createElement("p",{className:"text-center text-muted",style:{textDecoration:"underline",cursor:"pointer"},onClick:t.displayResetPassword},"Mot de passe oubli\xe9 !")),a.resetPasswordView&&i.a.createElement($e,null)))})),Xe=[{id:"23",code:"23",nom:"Annaba"}],Ze=a(93),et=a.n(Ze),tt=Object(z.provideState)({initialState:function(){return{id:"",password:"",passwordConfirmation:"",university:""}},effects:{handleUniversityChange:function(e,t){var a=t.target.value;return function(e){return h.a.set("university",a),Object(m.a)({},e,{university:a})}},handleId:function(e,t){var a=t.target.value;return function(e,t){t.history;return Object(m.a)({},e,{id:a})}},handlePassword:function(e,t){var a=t.target.value;return function(e){return Object(m.a)({},e,{password:a})}},handlePasswordConfirmation:function(e,t){var a=t.target.value;return function(e){return Object(m.a)({},e,{passwordConfirmation:a})}},submit:function(e,t){return function(){var a=Object(E.a)(p.a.mark(function a(n,r){var c,l;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=r.history,t&&t.preventDefault(),!n.isValidPasswordConfirmation){a.next=14;break}return l=n.serverInstance.auth.getProviderClient(y.e.factory),a.prev=4,a.next=7,l.registerWithEmail(n.id,n.password);case 7:h.a.set("authEmail",n.id),c.push("/confirm"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),e.handleError(a.t0);case 14:case"end":return a.stop()}},a,this,[[4,11]])}));return function(e,t){return a.apply(this,arguments)}}()}},computed:{isValidPasswordConfirmation:function(e){var t=e.passwordConfirmation;return e.password===t}}}),at=tt(Object(z.injectState)(function(e){var t=e.effects,a=e.state;return i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("div",{className:"text-center text-muted",style:{marginBottom:"10px"}},"Cr\xe9er un compte en 2 secondes ",i.a.createElement(et.a,null)),i.a.createElement(k.r,{id:"creation-form"},i.a.createElement(k.t,null,i.a.createElement(k.u,{autoFocus:!0,type:"email",placeholder:"Votre email !",value:a.id,onChange:t.handleId,required:!0})),i.a.createElement(k.t,null,i.a.createElement(k.u,{type:"password",placeholder:"Mot de passe !",value:a.password,onChange:t.handlePassword,required:!0})),i.a.createElement(k.t,null,i.a.createElement(k.u,{type:"password",placeholder:"Encore le m\xeame mot de passe !",value:a.passwordConfirmation,onChange:t.handlePasswordConfirmation,required:!0,invalid:!a.isValidPasswordConfirmation}),i.a.createElement(k.s,null,"Les mots de passes ne sont pas identiques !")),i.a.createElement(k.t,null,i.a.createElement(k.u,{name:"university",onChange:t.handleUniversityChange,required:!0,type:"select",value:a.university},i.a.createElement("option",{value:""},"Facult\xe9 *"),Xe&&Object(D.map)(Xe,function(e){return i.a.createElement("option",{key:e.code,value:e.nom},"".concat(e.code," - ").concat(e.nom))}))),i.a.createElement(_,{text:i.a.createElement("span",{style:{fontWeight:"bold"}},"Inscription"),color:"info",action:t.submit,form:"creation-form"}))))})),nt={cursor:"pointer"},rt=Object(z.provideState)({initialState:function(){return{activeTab:"authentication"}},effects:{initialize:function(){return function(e){var t=new URLSearchParams(window.location.hash.split("?")[1]);e.activeTab=t.get("toggle")||"authentication"}},toggle:function(e,t){return function(e){return Object(m.a)({},e,{activeTab:t})}}}}),ct=rt(Object(z.injectState)(function(e){var t=e.effects,a=e.state,n=e.history;return i.a.createElement(k.L,null,i.a.createElement(k.k,{md:{size:4,offset:4},style:{marginTop:"50px"}},i.a.createElement(k.e,{className:"h-100",style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"}},i.a.createElement(k.F,{tabs:!0,fill:!0},i.a.createElement(k.G,{style:nt},i.a.createElement(k.H,{className:Se()({active:"authentication"===a.activeTab}),onClick:function(){t.toggle("authentication")},style:"authentication"===a.activeTab?{color:"#0e627f",fontWeight:"bold"}:{}},i.a.createElement(Fe.a,null)," \xa0Authentification")),i.a.createElement(k.G,{style:nt},i.a.createElement(k.H,{className:Se()({active:"createAccount"===a.activeTab}),onClick:function(){t.toggle("createAccount")},style:"createAccount"===a.activeTab?{color:"#0e627f",fontWeight:"bold"}:{}},i.a.createElement(Be.a,null)," \xa0Cr\xe9er un compte"))),i.a.createElement(k.M,{activeTab:a.activeTab},i.a.createElement(k.N,{tabId:"authentication",style:{padding:"20px"}},i.a.createElement(k.L,null,i.a.createElement(k.k,{sm:"12"},i.a.createElement(Je,{history:n})))),i.a.createElement(k.N,{tabId:"createAccount",style:{padding:"20px"}},i.a.createElement(k.L,null,i.a.createElement(k.k,{sm:"12"},i.a.createElement(at,{history:n}))))))))})),lt=a(43),ot=a.n(lt),it=a(28),st=a.n(it),ut=Object(z.provideState)({initialState:function(){return{confirmed:!1,loading:!1,emailResent:!1}},effects:{initialize:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n,r,c,l,o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=window.location.hash.split("?")[1],r=new URLSearchParams(n),c=r.get("token"),l=r.get("tokenId"),!c||!l){t.next=17;break}return a.loading=!0,o=a.serverInstance.auth.getProviderClient(y.e.factory),t.prev=7,t.next=10,o.confirmUser(c,l);case 10:a.confirmed=!0,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),e.handleError(t.t0);case 16:a.loading=!1;case 17:case"end":return t.stop()}},t,this,[[7,13]])}));return function(e){return t.apply(this,arguments)}}()},redirectToAuthenticate:function(){return function(e,t){t.history.push("/authenticate")}},resendEmail:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n,r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.serverInstance.auth.getProviderClient(y.e.factory),!(r=h.a.get("authEmail"))){t.next=13;break}return t.prev=3,console.log("Mail resent to ",r),t.next=7,n.resendConfirmationEmail(r);case 7:a.emailResent=!0,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),e.handleError(t.t0);case 13:case"end":return t.stop()}},t,this,[[3,10]])}));return function(e){return t.apply(this,arguments)}}()}}}),mt=ut(Object(z.injectState)(function(e){var t=e.effects,a=e.state;return a.loading?i.a.createElement(k.k,{md:{size:2,offset:5}},i.a.createElement("img",{src:V.a,alt:"Loading...",height:"100",width:"100"})):a.confirmed?i.a.createElement(k.e,{body:!0},i.a.createElement(k.j,{className:"text-center",style:{fontWeight:"bold"}},"Confirmation de l'inscription"),i.a.createElement(k.f,null,i.a.createElement("p",{className:"text-center",style:{fontSize:"18px"}},i.a.createElement(st.a,{color:"green"})," \xa0 Votre inscription est confrim\xe9 avec succ\xe9s, veuillez vous identifier pour activer votre compte"),i.a.createElement("div",{className:"text-center"},i.a.createElement(k.c,{color:"warning",onClick:t.redirectToAuthenticate},"S'authentifier")))):i.a.createElement(k.e,{body:!0},i.a.createElement(k.j,{className:"text-center",style:{fontWeight:"bold"}},"Confirmation de l'inscription"),i.a.createElement(k.f,null,i.a.createElement("p",{className:"text-center",style:{fontSize:"18px"}},"Vite! vite! Consultez votre email pour confirmer votre inscription"," ",i.a.createElement(b.a,null)),i.a.createElement(k.L,null,i.a.createElement(k.k,{md:{size:4,offset:4}},i.a.createElement(_,{text:i.a.createElement("span",null,"Renvoyer l'email de confirmation ",i.a.createElement(ot.a,null)),action:t.resendEmail}),i.a.createElement("br",null),a.emailResent&&i.a.createElement(k.a,{color:"success",className:"text-center"},"Email renvoyer avec succ\xe9s")))))})),dt=Object(z.provideState)({initialState:function(){return{confirmed:!1,loading:!1,newPassword:""}},effects:{confirmResetPassword:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n,r,c,l,o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=window.location.hash.split("?")[1],r=new URLSearchParams(n),c=r.get("token"),l=r.get("tokenId"),!c||!l){t.next=18;break}return a.loading=!0,o=a.serverInstance.auth.getProviderClient(y.e.factory),t.prev=7,t.next=10,o.resetPassword(c,l,a.newPassword);case 10:a.confirmed=!0,e.clearAccountConfirmtion(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),e.handleError(t.t0);case 17:a.loading=!1;case 18:case"end":return t.stop()}},t,this,[[7,14]])}));return function(e){return t.apply(this,arguments)}}()},handleNewPassword:function(e,t){var a=t.target.value;return function(e){return Object(m.a)({},e,{newPassword:a})}},redirectToAuthenticate:function(){return function(e,t){t.history.push("/authenticate")}}}}),pt=dt(Object(z.injectState)(function(e){var t=e.effects,a=e.state;return a.loading?i.a.createElement(k.k,{md:{size:2,offset:5}},i.a.createElement("img",{src:V.a,alt:"Loading...",height:"100",width:"100"})):a.confirmed?i.a.createElement(k.e,{body:!0},i.a.createElement(k.j,{className:"text-center",style:{fontWeight:"bold"}},"Confirmation de l'inscription"),i.a.createElement(k.f,null,i.a.createElement("p",{className:"text-center"},i.a.createElement(st.a,{color:"green"})," \xa0 Votre mot de passe a \xe9t\xe9 bien r\xe9initialis\xe9"),i.a.createElement("div",{className:"text-center"},i.a.createElement(k.c,{color:"light",onClick:t.redirectToAuthenticate},"S'authentifier ",i.a.createElement(ot.a,null))))):i.a.createElement(k.e,{body:!0},i.a.createElement(k.j,{className:"text-center",style:{fontWeight:"bold"}},"R\xe9initialisation du mot de passe"),i.a.createElement(k.f,null,i.a.createElement(k.L,null,i.a.createElement(k.k,{md:{size:4,offset:4}},i.a.createElement(k.r,{id:"confirm-reset-password"},i.a.createElement(k.t,null,i.a.createElement(k.u,{type:"password",placeholder:"Entrez votre nouveau mot de passe!",value:a.newPassword,onChange:t.handleNewPassword,required:!0})),i.a.createElement(_,{text:i.a.createElement("span",{style:{fontWeight:"bold"}},"Reset password"),color:"success",form:"confirm-reset-password",action:t.confirmResetPassword}))))))})),Et=a(16),ft=a(94),ht=a.n(ft),vt=a(23),gt=a.n(vt),xt=Object(z.provideState)({initialState:function(){return{name:"",email:"",message:"",messageSent:!1}},effects:{handleContactUsValues:function(e,t){var a=t.target;return function(e){return Object(m.a)({},e,Object(Et.a)({},a.name,a.value))}},sendMessage:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},a.authId&&(n={creator:a.authId}),t.prev=2,t.next=5,a.mongodb.insertOne(Object(m.a)({type:"message"},n,{name:a.name,email:a.email,message:a.message,date:Date.now()}));case 5:a.messageSent=!0,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),e.handleError(t.t0);case 11:case"end":return t.stop()}},t,this,[[2,8]])}));return function(e){return t.apply(this,arguments)}}()}}}),bt=xt(Object(z.injectState)(function(e){var t=e.effects,a=e.state;return a.messageSent?i.a.createElement(k.L,null,i.a.createElement(k.k,{md:{size:8,offset:2}},i.a.createElement(k.e,{body:!0},i.a.createElement(k.j,{className:"text-center hvr-bounce-to-right",style:{fontWeight:"bold"}},"Contactez-nous"),i.a.createElement(k.f,null,i.a.createElement("p",{className:"text-center",style:{fontSize:"18px"}},i.a.createElement(st.a,{color:"green"})," \xa0 Votre message est envoy\xe9 avec succ\xe9s, il sera lu dans les plus bref d\xe9lais"),i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:gt.a,alt:"koala",height:"200",width:"200"})))))):i.a.createElement(k.L,null,i.a.createElement(k.k,{md:{size:8,offset:2}},i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100"},i.a.createElement("span",{className:"text-center hvr-bounce-to-right",style:{backgroundColor:"#7bc3d1",color:"white",display:"block",cursor:"pointer"}},i.a.createElement("h5",{style:{marginTop:"10px"}},"Contactez-nous\xa0",i.a.createElement(b.a,{size:"22"}))),i.a.createElement(k.f,null,i.a.createElement(k.i,null,i.a.createElement(k.r,{id:"contact-us-form"},i.a.createElement(k.t,null,i.a.createElement(k.y,{className:"text-muted"},"Nom"),i.a.createElement(k.u,{name:"name",onChange:t.handleContactUsValues,required:!0,type:"text",placeholder:"Votre nom ! *",value:a.name})),i.a.createElement(k.t,null,i.a.createElement(k.y,{className:"text-muted"},"Email"),i.a.createElement(k.u,{name:"email",onChange:t.handleContactUsValues,required:!0,type:"email",placeholder:"Votre email ! *",value:a.email})),i.a.createElement(k.t,null,i.a.createElement(k.y,{className:"text-muted"},"Message"),i.a.createElement(k.u,{name:"message",onChange:t.handleContactUsValues,required:!0,type:"textarea",placeholder:"Message *",value:a.message,style:{height:"200px"}})),i.a.createElement(k.L,null,i.a.createElement(k.k,{md:"4"}),i.a.createElement(k.k,{md:"4"}),i.a.createElement(k.k,null,i.a.createElement(_,{text:i.a.createElement("span",{style:{fontWeight:"bold"}},"Envoyer ",i.a.createElement(ht.a,null)),color:"info",action:t.sendMessage,form:"contact-us-form"})))))))))})),yt=Object(z.injectState)(function(e){var t=e.history,a=e.state;return i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100"},i.a.createElement(k.f,null,i.a.createElement(k.i,{style:{textAlign:"center",fontSize:"20px"}},i.a.createElement(k.L,null,i.a.createElement(k.k,null,"Il y a pas assez d'examens saisis pour commencer un concours :(")),i.a.createElement(k.L,null,i.a.createElement(k.k,null,"S'il vous plait, pensez \xe0 contribuer :)")),i.a.createElement("br",null),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.c,{color:"info",onClick:function(){a.logged?t.push("/contribuer"):t.push("/authenticate")}},"Ajouter un examen"))),i.a.createElement("br",null),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:gt.a,alt:"cute koala",height:"200",width:"200"})))))))}),wt=a(33),kt=a.n(wt),jt=a(95),Ot=a.n(jt),St=a(96),Ct=a.n(St),Nt=Object(z.provideState)({effects:{deleteExam:function(e,t){return function(){var a=Object(E.a)(p.a.mark(function a(n){var r;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=new je.a(t),a.next=4,n.mongodb.deleteOne({_id:r});case 4:e.getPostedExams(),e.notifySuccess("Examen bien supprim\xe9 !"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),e.handleError(a.t0);case 11:case"end":return a.stop()}},a,this,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()}}}),At=[{name:"Module",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"info"},e.module))},sortIteratee:"module"},{name:"Universit\xe9",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},e.university))},sortIteratee:"university"},{name:"Session",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},ce()(e.examDate).format("DD-MM-YYYY")))},sortIteratee:"examDate"},{name:"Date de cr\xe9ation",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},ce()(e.date).format("DD-MM-YYYY")))},sortIteratee:"date"},{name:i.a.createElement("span",null,"Doit \xeatre publi\xe9 avant le \xa0",i.a.createElement(Ct.a,{color:"red",size:"20",id:"bell-icon"}),i.a.createElement(k.Q,{placement:"top",target:"bell-icon"},"Vite terminez cet examen avant qu'il soit supprim\xe9 apr\xe8s l'\xe9ch\xe9ance de la date dessous")),itemRenderer:function(e,t,a){return e.approved?i.a.createElement("span",null):i.a.createElement("h5",null,i.a.createElement(k.b,{color:"danger"},ce()(e.date).add(7,"days").format("DD-MM-YYYY")))},sortIteratee:"date"},{name:"Vue",itemRenderer:function(e,t,a){return i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},e.seen||0," \xa0 ",i.a.createElement(F.a,null)))},sortIteratee:"seen"},{name:"Et\xe2t",itemRenderer:function(e,t,a){var n=ke();return e.completed?i.a.createElement(o.Fragment,null,i.a.createElement($.a,{color:"green",size:"25",id:"complete-icon-".concat(n)}),i.a.createElement(k.Q,{placement:"top",target:"complete-icon-".concat(n)},"Complet")):i.a.createElement(o.Fragment,null,i.a.createElement(H.a,{color:"orange",size:"25",id:"incomplete-icon-".concat(n)}),i.a.createElement(k.Q,{placement:"top",target:"incomplete-icon-".concat(n)},"Incomplet"))},sortIteratee:void 0},{name:"Action",itemRenderer:function(e,t,a){return i.a.createElement(o.Fragment,null,e.completed?i.a.createElement(C.a,{className:"btn btn-outline-dark btn-sm",to:"/contribuer/".concat(e._id.toString())},"Modifier"):i.a.createElement(C.a,{className:"btn btn-outline-info btn-sm",to:"/contribuer/".concat(e._id.toString())},"Compl\xe9ter"),"\xa0",!e.completed&&i.a.createElement(k.c,{size:"sm",color:"danger",outline:!0,onClick:function(){window.confirm("Etes vous s\xfbr de vouloir abondonner cet examen ?")&&a.deleteExam(e._id.toString())}},i.a.createElement(te.a,{size:"15"})))},sortIteratee:void 0},{name:"Publication",itemRenderer:function(e,t,a){var n=ke();return e.approved?i.a.createElement(o.Fragment,null,i.a.createElement(J.a,{color:"green",size:"25",id:"published-icon-".concat(n)}),i.a.createElement(k.Q,{placement:"top",target:"published-icon-".concat(n)},"Votre examen est en ligne")):i.a.createElement(o.Fragment,null,i.a.createElement(ne.a,{color:"orange",size:"25",id:"on-verification-icon-".concat(n)}),i.a.createElement(k.Q,{placement:"top",target:"on-verification-icon-".concat(n)},"En v\xe9rification"))},sortIteratee:void 0}],zt=Nt(Object(z.injectState)(function(e){e.effects,e.state,e.lastIndex;var t=e.exams;return i.a.createElement(we,{columns:At,collection:t,filteredCollection:t,initialSortIteratee:"date",initialSortDirection:"desc",pagination:t&&t.length>10,uniqueKey:"_id"})})),Dt=a(59),Pt=a.n(Dt),It=a(129),Lt=a(99),Mt=a.n(Lt),qt=a(100),Qt=a.n(qt),Rt=a(37),Vt=a.n(Rt),Tt=(a(186),a(101)),_t=a.n(Tt),Yt=(a(188),Object(z.injectState)(function(e){e.effects;var t=e.picture,a=e.onCloseImgModal;return i.a.createElement("div",{className:"img-modal"},i.a.createElement("span",{className:"close-modal"},i.a.createElement(De.a,{onClick:function(){return a()},color:"white"})),i.a.createElement("img",{className:"modal-content",src:t,alt:"illustration d'ajout d'examen"}),i.a.createElement("div",{id:"caption"}))})),Bt=a(21),Wt=a(51),Ft=a(102),Ut=a.n(Ft),Ht=a(103),Gt=a.n(Ht),$t=a(104),Kt=a.n($t),Jt=Object(z.provideState)({initialState:function(e){var t=e.answers,a=e.correctAnswers;return{question:e.question||"",questionNum:e.lastIndex,A:t&&t.A||"",B:t&&t.B||"",C:t&&t.C||"",D:t&&t.D||"",E:t&&t.E||"",correctAnswers:a||[],validatedQuestion:!1,firstRender:!0,modalCorrectAnswers:!1,correctAnswersRequired:!1}},effects:{initialize:function(){return function(e,t){t.question;e.alreadyValidatedQuestion&&(e.validatedQuestion=!0)}},toggleCorrectAnswersPicture:function(){return function(e){return{modalCorrectAnswers:!e.modalCorrectAnswers}}},addQuestion:function(){return function(e,t){if(0===e.correctAnswers.length)e.correctAnswersRequired=!0;else{var a=Object(Et.a)({},e.questionNum,{question:e.question,answers:{A:e.A,B:e.B,C:e.C,D:e.D,E:e.E},correctAnswers:e.correctAnswers});t.onAddQuestion(a),e.validatedQuestion=!0,e.firstRender=!1}}},handleQuestionValues:function(e,t){var a=t.target;return function(e){return Object(m.a)({},e,Object(Et.a)({},a.name,a.value))}},handleCorrectAnswer:function(e,t){return function(e){e.correctAnswersRequired=!1;var a=e.correctAnswers.indexOf(t);return a<0?e.correctAnswers.push(t):e.correctAnswers.splice(a,1),Object(m.a)({},e,{correctAnswers:Object(Wt.a)(e.correctAnswers)})}},toggleQuestion:function(){return function(e){e.validatedQuestion=!e.validatedQuestion}}},computed:{alreadyValidatedQuestion:function(e,t){return t.question}}})(Object(z.injectState)(function(e){var t=e.effects,a=e.state,n=e.lastIndex,r=e.onDeleteLastQuestion,c=e.isLastQuestion;return i.a.createElement("div",null,i.a.createElement(k.v,{style:{marginBottom:"16px"}},i.a.createElement(k.u,{style:{fontWeight:"bold"},disabled:!0,value:"Question ".concat(a.questionNum)}),i.a.createElement(k.u,{disabled:!0,value:"R\xe9ponses ".concat(a.correctAnswers)}),i.a.createElement(k.w,{addonType:"prepend"},i.a.createElement(k.c,{onClick:t.toggleQuestion,outline:!0},a.validatedQuestion?i.a.createElement(Gt.a,null):i.a.createElement(Ut.a,null)))),i.a.createElement(k.l,{isOpen:!a.validatedQuestion},i.a.createElement(k.e,{body:!0,style:{marginBottom:"30px"}},i.a.createElement(k.r,{id:"question-form-".concat(n+1)},i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.v,null,i.a.createElement(k.w,{addonType:"prepend"},i.a.createElement(k.x,null,"Question ".concat(a.questionNum))),i.a.createElement(k.u,{autoFocus:!0,name:"question",onChange:t.handleQuestionValues,required:!0,type:"text",placeholder:"Question *",value:a.question})),i.a.createElement(k.t,null))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.t,null,i.a.createElement(k.v,null,i.a.createElement(k.w,{addonType:"prepend"},"A"),i.a.createElement(k.u,{name:"A",value:a.A,onChange:t.handleQuestionValues,placeholder:"Proposition A",required:!0}))))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.t,null,i.a.createElement(k.v,null,i.a.createElement(k.w,{addonType:"prepend"},"B"),i.a.createElement(k.u,{name:"B",value:a.B,onChange:t.handleQuestionValues,placeholder:"Proposition B",required:!0}))))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.t,null,i.a.createElement(k.v,null,i.a.createElement(k.w,{addonType:"prepend"},"C"),i.a.createElement(k.u,{name:"C",value:a.C,onChange:t.handleQuestionValues,placeholder:"Proposition C",required:!0}))))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.t,null,i.a.createElement(k.v,null,i.a.createElement(k.w,{addonType:"prepend"},"D"),i.a.createElement(k.u,{name:"D",value:a.D,onChange:t.handleQuestionValues,placeholder:"Proposition D",required:!0}))))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.t,null,i.a.createElement(k.v,null,i.a.createElement(k.w,{addonType:"prepend"},"E"),i.a.createElement(k.u,{name:"E",value:a.E,onChange:t.handleQuestionValues,placeholder:"Proposition E",required:!0}))))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("span",{className:"text-muted"},"Bonne r\xe9ponses \xa0"),i.a.createElement(k.d,null,i.a.createElement(k.c,{color:"light",onClick:function(){return t.handleCorrectAnswer("A")},active:a.correctAnswers.includes("A")},"\xa0A\xa0"),i.a.createElement(k.c,{color:"light",onClick:function(){return t.handleCorrectAnswer("B")},active:a.correctAnswers.includes("B")},"\xa0B\xa0"),i.a.createElement(k.c,{color:"light",onClick:function(){return t.handleCorrectAnswer("C")},active:a.correctAnswers.includes("C")},"\xa0C\xa0"),i.a.createElement(k.c,{color:"light",onClick:function(){return t.handleCorrectAnswer("D")},active:a.correctAnswers.includes("D")},"\xa0D\xa0"),i.a.createElement(k.c,{color:"light",onClick:function(){return t.handleCorrectAnswer("E")},active:a.correctAnswers.includes("E")},"\xa0E\xa0"),i.a.createElement(k.c,{color:"light",onClick:t.toggleCorrectAnswersPicture},i.a.createElement(Vt.a,{color:"orange",size:"23",style:{verticalAlign:"bottom"}}),a.modalCorrectAnswers&&i.a.createElement(Yt,{picture:Kt.a,onCloseImgModal:t.toggleCorrectAnswersPicture}))),"\xa0 \xa0",a.correctAnswers.length>0&&i.a.createElement(o.Fragment,null,i.a.createElement("span",{className:"text-muted"},"R\xe9ponses selectionn\xe9es \xa0"),i.a.createElement("span",null,Object(D.map)(a.correctAnswers,function(e){return i.a.createElement(k.b,{key:e,color:"light"},e)}))))),a.correctAnswersRequired&&i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("span",{style:{color:"red"}},"Il faut choisir au moins une r\xe9ponse :)"))),i.a.createElement(k.L,{style:{marginTop:"20px"}},i.a.createElement(k.k,{md:"5"}),i.a.createElement(k.k,{md:"3"},c&&i.a.createElement(k.c,{color:"light",block:!0,onClick:function(){window.confirm("Etes vous s\xfbr de vouloir supprimer cette question ?")&&r()}},"Supprimer question ",i.a.createElement(te.a,null))),i.a.createElement(k.k,{md:"4"},i.a.createElement(_,{text:i.a.createElement("span",null,a.alreadyValidatedQuestion?"Modifier question":"Ajouter question"," ",i.a.createElement(kt.a,null)),color:"info",block:!0,action:t.addQuestion,form:"question-form-".concat(n+1)})))))))})),Xt=(a(29),a(191),a(193),Object(z.provideState)({initialState:function(e){var t=e.data,a=e.verified,n=e.university;return{module:t&&t.module||"",examDate:t&&t.examDate&&new Date(t.examDate)||"",_university:t&&t.university||n||"",questions:t&&t.exam||{},moduleExists:!a,examCompleted:!1,modalExamPicture:!1,examProof:t&&t.examProof||""}},effects:{addExam:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a,n){var r,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.onHideExamView,!(Object.keys(a.questions).length<10)){t.next=5;break}e.notifyError("Il faut au minimum ".concat(10," questions pour commencer \xe0 ajouter un examen")),t.next=20;break;case 5:return c={},"5c2e153a6071059caef396ac"!==a.authId&&(c={creator:a.authId}),t.prev=7,t.next=10,a.mongodb.updateOne({module:a.module,examDate:new Date(a.examDate).valueOf(),university:a._university},{$set:Object(m.a)({type:"exam",examDate:new Date(a.examDate).valueOf()},c,{date:Date.now(),completed:!0,approved:!1,university:a._university,examProof:a.examProof,exam:Object(m.a)({},a.questions)})},{upsert:!0});case 10:a.examCompleted=!0,e.notifySuccess("Merci, votre examen est ajout\xe9 avec succ\xe9s !, Il sera v\xe9rifi\xe9 et publier bient\xf4t :)"),r(),e.getPostedExams(),e.getLastPostedExams(),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(7),e.handleError(t.t0);case 20:case"end":return t.stop()}},t,this,[[7,17]])}));return function(e,a){return t.apply(this,arguments)}}()},toggleExamDatePicture:function(){return function(e){return Object(m.a)({},e,{modalExamPicture:!e.modalExamPicture})}},handleExamValues:function(e,t){var a=t.target;return function(e){return Object(m.a)({},e,Object(Et.a)({},a.name,a.value))}},handleExamDate:function(e,t){return function(e){e.examDate=new Date(t)}},addQuestionView:function(){return function(e){var t=Object.keys(e.questions),a=t.length>0?+t.pop():0;e.questions=Object(m.a)({},e.questions,Object(Et.a)({},a+1,{}))}},deleteLastQuestion:function(){return function(e){var t=+Object.keys(e.questions).pop(),a=Object(m.a)({},e.questions);delete a[t],e.questions=a}},addQuestion:function(e,t){return function(e){var a=Object(m.a)({},e.questions);return a=Object(m.a)({},a,t),Object(m.a)({},e,{questions:a})}},saveExamForLater:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var a=Object(E.a)(p.a.mark(function a(n,r){var c,l;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=r.onHideExamView,l={},"5c2e153a6071059caef396ac"!==n.authId&&(l={creator:n.authId}),a.prev=3,a.next=6,n.mongodb.updateOne({module:n.module,examDate:new Date(n.examDate).valueOf(),university:n._university},{$set:Object(m.a)({type:"exam",examDate:new Date(n.examDate).valueOf()},l,{date:Date.now(),completed:!1,approved:!1,university:n._university,examProof:n.examProof,exam:Object(m.a)({},n.questions)})},{upsert:!0});case 6:n.examCompleted=!0,t&&e.notifySuccess("l'examen est sauvegard\xe9 avec succ\xe9es, vous pouvez le compl\xe9ter dans votre tableau d'examen"),t&&c(),e.getPostedExams(),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(3),e.handleError(a.t0);case 15:case"end":return a.stop()}},a,this,[[3,12]])}));return function(e,t){return a.apply(this,arguments)}}()},verifyModuleExisting:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.mongodb.find({module:a.module,examDate:new Date(a.examDate).valueOf(),university:a._university}).iterator();case 2:return n=t.sent,t.next=5,n.next();case 5:if(!t.sent){t.next=10;break}e.notifyError("Cet examen est en cours d'\xeatre remplis par un autre utilisateur ou existe d\xe9j\xe0 :( S'il vous plait, choisisssez un autre examen :) S'il vous plait, choisisssez un autre examen :)"),t.next=12;break;case 10:return e.saveExamForLater(!1),t.abrupt("return",Object(m.a)({},a,{moduleExists:!1}));case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},computed:{validInitialExamData:function(e){e.year;var t=e.examDate,a=e.module,n=e._university;return""!==t&&""!==a&&""!==n},addExamStarted:function(e){return!e.moduleExists},lastQuestionIndex:function(e){var t=e.questions,a=Object.keys(t);return a.length>0?+a.pop():0}}})(Object(z.injectState)(function(e){var t=e.effects,a=e.state,n=e.onHideExamView,r={dateFormat:"dd/MM/yyyy",onChange:t.handleExamDate,placeholderText:"Date examen *",className:"input-date-style",disabled:a.addExamStarted};return""!==a.examDate&&(r.selected=a.examDate),i.a.createElement("div",null,i.a.createElement(k.r,{id:"exam-form"},i.a.createElement(k.L,null,i.a.createElement(k.k,{md:"3"},i.a.createElement(k.t,null,i.a.createElement(k.y,{className:"text-muted"},"Module"),i.a.createElement(k.u,{name:"module",onChange:t.handleExamValues,required:!0,type:"select",value:a.module,disabled:a.addExamStarted},i.a.createElement("option",{value:""},"Module *"),Bt&&Object(D.map)(Bt,function(e){return i.a.createElement("option",{key:e,value:e},e)})))),i.a.createElement(k.k,{md:"3"},i.a.createElement(k.t,null,i.a.createElement(k.y,{className:"text-muted"},"Universit\xe9"),i.a.createElement(k.u,{name:"_university",onChange:t.handleExamValues,required:!0,type:"select",value:a._university,disabled:a.addExamStarted},i.a.createElement("option",{value:""},"Universit\xe9 *"),Xe&&Object(D.map)(Xe,function(e){return i.a.createElement("option",{key:e.code,value:e.nom},"".concat(e.code," - ").concat(e.nom))})))),i.a.createElement(k.k,{md:"3"},i.a.createElement(k.t,null,i.a.createElement(k.y,{className:"text-muted"},"Date - Session"),i.a.createElement(k.v,null,i.a.createElement(It.a,Object.assign({class:"form-control"},r)),i.a.createElement(k.w,{addonType:"append",style:{cursor:"pointer"},onClick:t.toggleExamDatePicture},i.a.createElement(k.x,null,i.a.createElement(Vt.a,{color:"orange",size:"20"})))))),i.a.createElement(k.k,{md:"3"},i.a.createElement(k.t,null,i.a.createElement(k.y,{className:"text-muted"},"\xa0"),i.a.createElement(_,{className:"hvr-icon-forward",text:i.a.createElement("span",null,"Commencer \xa0 ",i.a.createElement(Qt.a,{className:"hvr-icon"})),color:"success",action:t.verifyModuleExisting,block:!0,disabled:!a.validInitialExamData||!a.moduleExists})))),i.a.createElement("br",null),!a.moduleExists&&i.a.createElement(o.Fragment,null,Object(D.map)(a.questions,function(e,n){return i.a.createElement(Jt,{question:e.question,answers:e.answers,correctAnswers:e.correctAnswers,key:+n,lastIndex:+n,onAddQuestion:t.addQuestion,onDeleteLastQuestion:t.deleteLastQuestion,isLastQuestion:a.lastQuestionIndex===+n})}),i.a.createElement(k.L,null,i.a.createElement(k.k,{md:"8"}),i.a.createElement(k.k,{md:"4"},i.a.createElement(k.c,{className:"float-right hvr-icon-pulse",onClick:t.addQuestionView,disabled:!a.validInitialExamData,color:"warning"},"Ajouter une question ",i.a.createElement(kt.a,{className:"hvr-icon"})),"\xa0",i.a.createElement(k.c,{color:"light",className:"float-right",id:"delete-info",onClick:function(){}},i.a.createElement(Vt.a,{color:"orange",size:"23",style:{verticalAlign:"bottom"}})),i.a.createElement(k.Q,{placement:"left",target:"delete-info"},"Pour Respecter l'ordre des questions ajout\xe9es, Nous vous offrons la possiblit\xe9 de supprimer seulement la derni\xe8re question ajout\xe9e"))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.t,null,i.a.createElement(k.y,{className:"text-muted"},"Preuve d'examen"),i.a.createElement(k.u,{name:"examProof",placeholder:"Peut \xeatre le lien de l'examen dans Drive ou Dropbox. Exemple https://drive.google.com/open?id=1Q3sMhD_BwAczA6gsTVhq_Q43TZTigZXk",onChange:t.handleExamValues,required:!0,type:"text",value:a.examProof})))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.a,{color:"warning"},i.a.createElement(Pt.a,null)," Vous avez que 7 jours pour terminer la saisie de cet examen")))),i.a.createElement("br",null),i.a.createElement("br",null),a.addExamStarted&&i.a.createElement(k.L,null,i.a.createElement(k.k,{md:"2"},i.a.createElement(k.c,{className:"float-left",color:"warning",block:!0,onClick:function(){window.confirm("Etes vous s\xfbr de vouloir quitter sans sauvegarder l'examen pour plus tard ?")&&n()}},"Quitter ",i.a.createElement(De.a,{color:"red"}))),i.a.createElement(k.k,{md:"2"}),i.a.createElement(k.k,{md:"4"},i.a.createElement(_,{text:i.a.createElement("span",null,"Sauvegarder pour plus tard ",i.a.createElement(Mt.a,null)),action:t.saveExamForLater,disabled:!a.addExamStarted,block:!0})),i.a.createElement(k.k,{md:"4"},i.a.createElement(_,{text:i.a.createElement("span",null,"Ajouter l'examen ",i.a.createElement(st.a,null)),color:"success",action:t.addExam,form:"exam-form",disabled:!a.addExamStarted,block:!0})))),a.modalExamPicture&&i.a.createElement(Yt,{picture:_t.a,onCloseImgModal:t.toggleExamDatePicture}))}))),Zt=a(105),ea=a.n(Zt),ta=a(106),aa=a.n(ta),na=Object(z.provideState)({initialState:function(){return{collapse:!1}},effects:{toggle:function(){return function(e){return Object(m.a)({},e,{collapse:!e.collapse})}}}})(Object(z.injectState)(function(e){var t=e.effects,a=e.state;return i.a.createElement("div",null,i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("h4",null,i.a.createElement(k.b,{color:"warning",pill:!0,className:"hvr-float-shadow",style:{cursor:"pointer"},onClick:t.toggle},"Vous n'avez pas \xe0 taper l'examen, cliquez ici"," ",i.a.createElement(ea.a,{size:"20"}))))),a.collapse&&i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)",fontSize:"18px"},className:"h-100"},i.a.createElement(k.j,{style:{fontWeight:"bold",textAlign:"center"}},i.a.createElement("div",{style:{margin:"10px"}},"Utilisez le scanneur de caract\xe8res en ligne"),i.a.createElement("div",null,i.a.createElement("img",{src:aa.a,alt:"ocr scan",width:"80",height:"80"}))),i.a.createElement(k.f,null,i.a.createElement(k.i,null,"Etapes:",i.a.createElement(k.z,null,i.a.createElement(k.A,null,i.a.createElement("span",{style:{fontWeight:"bold"}},"1.")," Entrez sur le site"," ",i.a.createElement("a",{href:"https://www.onlineocr.net/",target:"_blank"},"https://www.onlineocr.net/")),i.a.createElement(k.A,null,i.a.createElement("span",{style:{fontWeight:"bold"}},"2.")," Cr\xe9er un compte pour pouvoir scanner des documents qui comportent plusieurs pages"),i.a.createElement(k.A,null,i.a.createElement("span",{style:{fontWeight:"bold"}},"3.")," Selectionnez un examen apr\xe8s avoir v\xe9rifier qu'il n'existe pas encore dans Hakima QCM"),i.a.createElement(k.A,null,i.a.createElement("span",{style:{fontWeight:"bold"}},"4.")," Choisissez"," ",i.a.createElement("strong",null,"Text Plain (txt)")," comme format de sortie"),i.a.createElement(k.A,null,i.a.createElement("span",{style:{fontWeight:"bold"}},"5.")," Cliquez sur le boutton ",i.a.createElement("strong",null,"Convert")," et voil\xe0 vous avez votre examen scann\xe9"),i.a.createElement(k.A,null,i.a.createElement("span",{style:{fontWeight:"bold"}},"6.")," Maintenant vous n'avez qu'\xe0 organiser les questions et les r\xe9ponses en les copiant sur l'outil de saisit des examens de"," ",i.a.createElement("strong",null,"Hakima QCM")))),i.a.createElement("div",{className:"float-right"},i.a.createElement(k.c,{onClick:t.toggle,size:"sm"},"fermer ",i.a.createElement(De.a,null))))))})),ra=a(107),ca=a.n(ra),la=i.a.createRef(),oa=Object(z.provideState)({initialState:function(){return{tooltip:!1}},effects:{initialize:function(){},copyEmail:function(){la.select(),document.execCommand("copy"),this.state.tooltip=!0}}})(Object(z.injectState)(function(e){var t=e.effects,a=e.state;return i.a.createElement(k.e,{body:!0},i.a.createElement(k.L,null,i.a.createElement(k.k,null,"Envoyez nous vos examens bien scann\xe9s sur l'adresse email indiqu\xe9e \xe0 droite. Pas besoin d'avoir un scanneur, utilisez l'application"," ",i.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.appxy.tinyscanner&hl=fr"},"Tiny Scanner")),i.a.createElement(k.k,{md:"4"},i.a.createElement(k.v,null,i.a.createElement(k.u,{value:"medical.dz.qcm@gmail.com",innerRef:function(e){return la=e}}),i.a.createElement(k.w,{addonType:"append"},i.a.createElement(k.c,{color:"info",outline:!0,onClick:t.copyEmail,id:"copytooltip"},"Copier l'email ",i.a.createElement(ca.a,null))),i.a.createElement(k.P,{placement:"right",isOpen:a.tooltip,target:"copytooltip"},"Email copi\xe9")))))})),ia=Object(z.provideState)({initialState:function(){return{addExamView:!1,initialExamData:void 0,examLoading:!1,queryString:!1}},effects:{initialize:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a,n){var r,c,l,o,i,s,u;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.match,!(c=r&&r.params&&r.params.examId)){t.next=11;break}return a.examLoading=!0,l=new je.a(c),t.next=7,a.mongodb.find({_id:l}).asArray();case 7:o=t.sent,a.initialExamData=o.pop(),a.examLoading=!1,a.addExamView=!0;case 11:i=new URLSearchParams(window.location.hash.split("?")[1]),s=i.get("module"),u=i.get("university"),s&&u&&(a.queryString=!0,a.initialExamData={module:s,university:u},e.displayExamView()),window.scrollTo(0,0);case 16:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},displayExamView:function(){return function(e){return Object(m.a)({},e,{addExamView:!0})}},hideExamView:function(){return function(e){return Object(m.a)({},e,{addExamView:!1})}}}})(Object(z.injectState)(function(e){var t=e.effects,a=e.state;return i.a.createElement("div",{style:{marginTop:"20px"}},i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(na,null)),i.a.createElement(k.k,null,i.a.createElement("h4",{className:"float-right"},i.a.createElement("a",{href:"https://mega.nz/#F!auwVTA4B!qkw06O3Sq8pnXcFxPgiL0w",target:"_blank",style:{textDecoration:"none"}},i.a.createElement(k.b,{color:"info",pill:!0,className:"hvr-float-shadow",style:{cursor:"pointer"}},"2017-2018 EMD Scann\xe9s ",i.a.createElement(Ot.a,null)," "))))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(oa,null))),i.a.createElement("br",null),i.a.createElement(k.L,null,i.a.createElement(k.k,{md:"9"},i.a.createElement("h5",{className:"text-muted hvr-icon-spin"},"Le monde n'a pas \xe9t\xe9 cr\xe9e en un jour"," ",i.a.createElement(J.a,{size:"22",className:"hvr-icon",style:{color:"#0e627f"}}))),i.a.createElement(k.k,{md:"3"},i.a.createElement(k.c,{className:"float-right hvr-icon-pulse-grow",onClick:t.displayExamView,disabled:a.addExamView,block:!0,color:"success"},i.a.createElement("span",{style:{fontSize:"16px",fontWeight:"bold"}},"Ajouter un examen")," ",i.a.createElement(kt.a,{color:"white",size:"20",className:"hvr-icon"})))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,a.examLoading?i.a.createElement(k.L,{className:"my-3"},i.a.createElement(k.k,{md:{size:2,offset:5}},i.a.createElement("br",null),i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:V.a,width:"50",height:"50",alt:"Loading..."})),i.a.createElement("p",{className:"text-muted text-center"},"Examen en chargement ..."))):a.addExamView&&i.a.createElement(Xt,{data:a.initialExamData,onHideExamView:t.hideExamView,verified:!a.queryString&&!!a.initialExamData,university:a.university}))),i.a.createElement("br",null),i.a.createElement("hr",null),a.authId&&i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("p",{className:"text-muted",style:{fontWeight:"bold"}},"Mes examens post\xe9s"),i.a.createElement(k.e,{body:!0},i.a.createElement(zt,{exams:a.postedExams})))))})),sa=a(34),ua=a.n(sa),ma=Object(z.provideState)({initialState:function(e){return{examData:e.examData}}})(Object(z.injectState)(function(e){var t=e.state,a=e.effects;e.history;return i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100"},i.a.createElement("span",{className:"text-center",style:{backgroundColor:"#f5c018",display:"block",cursor:"pointer"}},i.a.createElement("h5",{style:{fontWeight:"bold",marginTop:"10px"}},"QCM\xa0",i.a.createElement(ua.a,{size:"25"}))),i.a.createElement(k.f,null,i.a.createElement("div",null,i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("h4",null,i.a.createElement(k.b,{color:"light",className:"float-left"},t.examData&&t.examData.university))),i.a.createElement(k.k,null,i.a.createElement("h4",{className:"text-center"},i.a.createElement(k.b,{color:"dark"},t.examData&&t.examData.module))),i.a.createElement(k.k,null,i.a.createElement("h4",null,i.a.createElement(k.b,{color:"light",className:"float-right"},ce()(t.examData&&t.examData.examDate).format("DD-MM-YYYY"))))),i.a.createElement(k.L,null,i.a.createElement(k.k,{md:{size:8,offset:2}},Object(D.map)(t.examData.exam,function(e,a){return i.a.createElement(k.e,{body:!0,style:{marginBottom:"10px"}},t.currentQuestion&&i.a.createElement("div",{style:{marginBottom:"10px"}},i.a.createElement("h5",null,a,". ",e.question),i.a.createElement("br",null),i.a.createElement(k.z,null,Object(D.map)(e.answers,function(t,a){return i.a.createElement("div",{style:{marginBottom:"8px"}},i.a.createElement(k.A,{style:e.correctAnswers.includes(a)?{backgroundColor:"#408f0a",cursor:"pointer",color:"white",borderRadius:"10px"}:{cursor:"pointer",borderRadius:"10px"}},a,". ",t))}))))}))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("div",{className:"text-center"},i.a.createElement(k.c,{color:"dark",onClick:a.setExamMode},"Passer cet examen")))))))})),da=a(108),pa=a.n(da),Ea=Object(z.provideState)({initialState:function(){return{reportModal:!1,reportMessage:"",reportSent:!1}},effects:{getInputRef:function(e,t){n=t},oppenReportModal:function(){return function(e,t){var a=t._module,r=t.questionNum,c=t.examDate;e.reportModal=!0,e.reportMessage="Module: ".concat(a,"\nSession: ").concat(c,"\nQuestion: ").concat(r,"\n\nErreur: "),setTimeout(function(){n&&n.focus()},1e3)}},closeReportModal:function(){return function(e){return Object(m.a)({},e,{reportModal:!1})}},sendReport:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a,n){var r,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.examId,c=n.questionNum,t.prev=1,t.next=4,a.mongodb.insertOne({type:"report",examId:r,questionNum:c,reportMessage:a.reportMessage,creator:a.authId,corrected:!1,date:Date.now()});case 4:a.reportSent=!0,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e.handleError(t.t0);case 10:case"end":return t.stop()}},t,this,[[1,7]])}));return function(e,a){return t.apply(this,arguments)}}()},handleReportMessageBody:function(e,t){var a=t.target.value;return function(e){return Object(m.a)({},e,{reportMessage:a})}}}})(Object(z.injectState)(function(e){var t=e.state,a=e.effects;e.history;return i.a.createElement("div",null,i.a.createElement("span",null,i.a.createElement(k.c,{size:"xs",color:"light",onClick:a.oppenReportModal},i.a.createElement(Pt.a,{color:"orange"})," Une erreur ! signaler l\xe0 vite !")),i.a.createElement(k.B,{isOpen:t.reportModal,toggle:a.oppenReportModal},i.a.createElement(k.E,{toggle:a.closeReportModal,style:{backgroundColor:"#e63a3a"}},"Signaler un probl\xe8me"),i.a.createElement(k.C,null,t.reportSent?i.a.createElement("div",{className:"text-center",style:{fontSize:"20px"}},i.a.createElement("img",{src:gt.a,alt:"koala",height:"200",width:"200"}),i.a.createElement("br",null),i.a.createElement("div",null,"Merci, Rapport envoy\xe9 avec succ\xe9s ",i.a.createElement(st.a,{color:"green"})),i.a.createElement("div",null,"Grace \xe0 vous cet examen va \xeatre corrig\xe9")):i.a.createElement(k.u,{type:"textarea",value:t.reportMessage,style:{height:"200px"},onChange:a.handleReportMessageBody,innerRef:a.getInputRef})),i.a.createElement(k.D,null,i.a.createElement(k.L,null,i.a.createElement(k.k,{md:"6"}),i.a.createElement(k.k,{md:"6"},i.a.createElement("div",{className:"float-right"},i.a.createElement(_,{text:i.a.createElement("span",null,"Envoyer le rapport ",i.a.createElement(pa.a,{size:"20"})),action:a.sendReport,width:"200px",disabled:t.reportSent})))))))})),fa=Object(z.provideState)({initialState:function(){return{examData:void 0,examLoading:!1,badAnsweredQuestions:{},currentQuestionNum:1,currentQuestionIndex:1,selectedAnswers:[],answered:!1,note:0,examEnd:!1,examMode:!0,reviewMode:!1}},effects:{initialize:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a,n){var r,c,l,o,i;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.match,c=n.examId,l=r&&r.params&&r.params.examId||c,c&&(a.reviewMode=!0),!l){t.next=18;break}return a.examLoading=!0,t.prev=5,o=new je.a(l),t.next=9,a.mongodb.find({_id:o}).asArray();case 9:i=t.sent,a.examData=i.pop(),e.incrementViews(o,a.examData.seen||0),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(5),e.handleError(t.t0);case 17:a.examLoading=!1;case 18:case"end":return t.stop()}},t,this,[[5,14]])}));return function(e,a){return t.apply(this,arguments)}}()},incrementViews:function(e,t,a){return function(){var n=Object(E.a)(p.a.mark(function n(r){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.mongodb.updateOne({_id:t},{$set:{seen:a+1}},{upsert:!0});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),e.handleError(n.t0);case 8:case"end":return n.stop()}},n,this,[[0,5]])}));return function(e){return n.apply(this,arguments)}}()},selectAnswer:function(e,t){return function(e){if(e.selectedAnswers.includes(t)){var a=Object(Wt.a)(e.selectedAnswers);Object(D.remove)(a,function(e){return e===t}),e.selectedAnswers=a}else e.selectedAnswers=[].concat(Object(Wt.a)(e.selectedAnswers),[t])}},nextQuestion:function(){return function(e,t){if(e.isLastQuestion&&e.answered&&(e.examEnd=!0,t.onFinishExam&&t.onFinishExam({examId:e.examData._id,_module:e.examData.module,university:e.examData.university,examDate:e.examData.examDate,grade:e.note,maxGrade:e.questionsLength})),!e.isLastQuestion&&e.answered){e.selectedAnswers=[];var a=Object.keys(e.examData.exam),n=a.indexOf(String(e.currentQuestionNum));e.currentQuestionNum=+a[n+1],e.answered=!1,e.currentQuestionIndex=e.currentQuestionIndex+1}else if(!e.answered){e.answered=!0;var r=Object(D.difference)(e.currentQuestion.correctAnswers,e.selectedAnswers);Object(D.isEmpty)(r)?e.note=e.note+1:e.badAnsweredQuestions=Object(m.a)({},e.badAnsweredQuestions,Object(Et.a)({},e.currentQuestionNum,e.currentQuestion))}}},displayAllAnswers:function(){return function(e){return Object(m.a)({},e,{examMode:!1})}},repassBadAnsweredQuestion:function(){return function(e){e.examData=Object(m.a)({},e.examData,{exam:Object(m.a)({},e.badAnsweredQuestions)}),e.selectedAnswers=[],e.currentQuestionNum=+Object.keys(e.badAnsweredQuestions).shift(),e.answered=!1,e.examEnd=!1,e.note=0,e.badAnsweredQuestions={},e.currentQuestionIndex=1}},setExamMode:function(){return function(e){return Object(m.a)({},e,{examMode:!0})}}},computed:{currentQuestion:function(e){var t=e.examData,a=e.currentQuestionNum;if(t)return t.exam[a]},isLastQuestion:function(e){var t=e.examData,a=e.currentQuestionNum;return!!t&&+Object(D.last)(Object.keys(t.exam))===a},questionsLength:function(e){var t=e.examData;return t?Object.keys(t.exam).length:0},allAnswersAreCorrect:function(e){return e.questionsLength===e.note}}})(Object(z.injectState)(function(e){var t=e.state,a=e.effects,n=e.history,r=function(e){return t.answered&&t.currentQuestion.correctAnswers.includes(e)?{backgroundColor:"#408f0a",cursor:"pointer",color:"white",borderRadius:"10px"}:t.answered&&!t.currentQuestion.correctAnswers.includes(e)&&t.selectedAnswers.includes(e)?{backgroundColor:"#bc1e10",cursor:"pointer",color:"white",borderRadius:"10px"}:!t.answered&&t.selectedAnswers.includes(e)?{backgroundColor:"#7bc3d1",cursor:"pointer",borderRadius:"10px"}:{cursor:"pointer",borderRadius:"10px"}};return t.examMode?i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100"},i.a.createElement("span",{className:"text-center hvr-bounce-to-right",style:{backgroundColor:"#7bc3d1",color:"white",display:"block",cursor:"pointer"}},i.a.createElement("h5",{style:{fontWeight:"bold",marginTop:"10px"}},"QCM\xa0",i.a.createElement(ua.a,{size:"25"}))),i.a.createElement(k.f,null,t.examLoading?i.a.createElement(k.L,{className:"my-3"},i.a.createElement(k.k,{md:{size:2,offset:5}},i.a.createElement("br",null),i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:V.a,width:"50",height:"50",alt:"Loading..."})),i.a.createElement("p",{className:"text-muted text-center"},"Examen en chargement ..."))):t.examEnd?i.a.createElement("div",{style:{marginTop:"20px"}},i.a.createElement("h4",{className:"text-center"},i.a.createElement(k.b,{color:"light"},"Note\xa0\xa0",i.a.createElement(k.b,{color:"dark"},t.note," / ",t.questionsLength))),!t.reviewMode&&i.a.createElement("div",{className:"text-center",style:{margin:"15px"}},i.a.createElement(k.d,{vertical:!0},!t.allAnswersAreCorrect&&i.a.createElement(k.c,{outline:!0,onClick:a.repassBadAnsweredQuestion},"Repasser les questions mal r\xe9pondus ",i.a.createElement(ot.a,null)),i.a.createElement(k.c,{outline:!0,onClick:function(){n.push("/examen")}},"Passer un autre examen"),i.a.createElement(k.c,{outline:!0,onClick:a.displayAllAnswers},"Afficher toutes les r\xe9ponses"))),i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:gt.a,alt:"koala",height:"200",width:"200"}))):i.a.createElement("div",null,i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("h4",null,i.a.createElement(k.b,{color:"light",className:"float-left"},t.examData&&t.examData.university))),i.a.createElement(k.k,null,i.a.createElement("h4",{className:"text-center"},i.a.createElement(k.b,{color:"dark"},t.examData&&t.examData.module))),i.a.createElement(k.k,null,i.a.createElement("h4",null,i.a.createElement(k.b,{color:"light",className:"float-right"},ce()(t.examData&&t.examData.examDate).format("DD-MM-YYYY"))))),i.a.createElement(k.L,{style:{marginBottom:"10px"}},i.a.createElement(k.k,null,!t.reviewMode&&i.a.createElement("div",{className:"float-left"},i.a.createElement(k.c,{size:"xs",color:"success",outline:!0,onClick:a.displayAllAnswers},"Afficher toutes les r\xe9ponses")),i.a.createElement("h4",{className:"float-right"},i.a.createElement(k.b,{color:"light"},t.currentQuestionIndex," / ",t.questionsLength," ",i.a.createElement("span",{className:"text-muted"},"Questions"))))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.e,{body:!0},t.currentQuestion&&i.a.createElement("div",{style:{marginBottom:"10px"}},i.a.createElement("h5",null,i.a.createElement("strong",null,t.currentQuestionNum),"."," ",t.currentQuestion.question),i.a.createElement("br",null),i.a.createElement(k.z,null,Object(D.map)(t.currentQuestion.answers,function(e,t){return i.a.createElement("div",{style:{marginBottom:"8px"}},i.a.createElement(k.A,{className:"hvr-bounce-in",style:r(t),onClick:function(){return a.selectAnswer(t)}},i.a.createElement("strong",null,t),". ",e))}))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("span",{className:"float-left"},i.a.createElement(Ea,{_module:t.examData&&t.examData.module,examId:t.examData&&t.examData._id,questionNum:t.currentQuestionNum,examDate:ce()(t.examData&&t.examData.examDate).format("DD-MM-YYYY")}))),i.a.createElement(k.k,null,i.a.createElement(k.c,{color:"dark",className:"float-right",onClick:a.nextQuestion},t.isLastQuestion&&t.answered?"Terminer":t.answered?"Suivant >>":"Corriger"))))))))):i.a.createElement(ma,{examData:t.examData})})),ha=Object(z.provideState)({initialState:function(){return{dropdownOpen:!1}},effects:{toggle:function(){return function(e){return Object(m.a)({},e,{dropdownOpen:!e.dropdownOpen})}}}})(Object(z.injectState)(function(e){var t=e.effects,a=e.state;e.history;return i.a.createElement(k.n,{nav:!0,direction:"down",isOpen:a.dropdownOpen,toggle:t.toggle},i.a.createElement(k.q,{nav:!0,caret:!0,style:{color:"#e2e3e4"},className:"hvr-underline-reveal"},"R\xe9viser un module"),i.a.createElement(k.p,{style:{backgroundColor:"#222534"}},i.a.createElement(C.a,{to:"/examen",style:{color:"white",textDecoration:"none"}},i.a.createElement(k.o,{style:{color:"#e2e3e4",cursor:"pointer",fontSize:"18px"},className:"hvr-bounce-to-right",onClick:t.toggleNavbar},"Chercher un QCM")),i.a.createElement(C.a,{to:"/marevision",style:{color:"white",textDecoration:"none"}},i.a.createElement(k.o,{style:{color:"#e2e3e4",cursor:"pointer",fontSize:"18px"},className:"hvr-bounce-to-right",onClick:t.toggleNavbar},"Ma r\xe9vision"))))})),va=a(64),ga=a.n(va),xa=Object(z.provideState)({initialState:function(){return{}},effects:{}})(Object(z.injectState)(function(e){var t=e.effects,a=(e.state,e.finishedExams),n=(e.history,e.scrollToExam);return i.a.createElement(k.e,{style:{height:"300px",overflow:"scroll",overflowX:"hidden"}},i.a.createElement(k.g,{style:{fontWeight:"bold"},className:"hvr-bounce-to-right"},i.a.createElement($.a,{size:"20"})," Examens finis"," ",i.a.createElement(Vt.a,{className:"float-right",color:"gray",size:"20",id:"finished-exams"}),i.a.createElement(k.Q,{target:"finished-exams",placement:"top"},"Remontez encore le niveau, cliquez sur un examen pour le repasser !")),i.a.createElement(k.f,null,void 0===a?i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:V.a,width:"20",height:"20",alt:"Loading..."})):a&&0===a.length?i.a.createElement("div",{className:"text-center text-muted"},"Vous n'avez r\xe9viser aucun examen !\xa0",i.a.createElement("br",null)):i.a.createElement(k.O,{size:"sm",borderless:!0,hover:!0},i.a.createElement("tbody",null,Object(D.map)(a,function(e){return i.a.createElement(o.Fragment,null,i.a.createElement("tr",{onClick:function(){t.passExam(e.examId),n()},style:{cursor:"pointer"}},i.a.createElement("td",{className:"text-center"},i.a.createElement("h5",null,i.a.createElement(k.b,{color:"info"},e.module))),i.a.createElement("td",{className:"text-center"},i.a.createElement("h5",null,i.a.createElement(k.b,{color:"info"},e.university))),i.a.createElement("td",null,i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},ce()(e.examDate).format("DD-MM-YYYY"))))),i.a.createElement("tr",null,i.a.createElement("td",{align:"center",colspan:"3"},i.a.createElement("span",{className:"progress"},i.a.createElement("span",{className:"progress-bar progress-bar-striped",role:"progressbar",style:{width:"".concat(100*e.grade/e.maxGrade,"%")},"aria-valuemin":"0","aria-valuemax":"100"})),i.a.createElement("span",{className:"badge badge-light float-right"},"".concat(e.grade,"/").concat(e.maxGrade)))))})))))})),ba=(a(52),Object(z.provideState)({initialState:function(){return{}},effects:{}})(Object(z.injectState)(function(e){var t=e.effects,a=(e.state,e.unfinishedExams),n=(e.history,e.scrollToExam);return i.a.createElement(k.e,{style:{height:"300px",overflow:"scroll",overflowX:"hidden"}},i.a.createElement(k.g,{style:{fontWeight:"bold"},className:"hvr-bounce-to-right"},i.a.createElement(H.a,{size:"20"})," Examens non finis"),i.a.createElement(k.f,null,void 0===a?i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:V.a,width:"20",height:"20",alt:"Loading..."})):a&&0===a.length?i.a.createElement("div",{className:"text-center text-muted"},"Vous avez passer tous les examens. Essayez d'am\xe9liorer votre niveau en repassant les examens d\xe9j\xe0 finis\xa0",i.a.createElement("br",null)):i.a.createElement(k.O,{size:"sm",hover:!0,borderless:!0},i.a.createElement("tbody",null,Object(D.map)(a,function(e){return i.a.createElement("tr",{onClick:function(){t.passExam(e._id),n()},style:{cursor:"pointer"}},i.a.createElement("td",{className:"text-center"},i.a.createElement("h5",null,i.a.createElement(k.b,{color:"info"},e.module))),i.a.createElement("td",{className:"text-center"},i.a.createElement("h5",null,i.a.createElement(k.b,{color:"info"},e.university))),i.a.createElement("td",null,i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},ce()(e.examDate).format("DD-MM-YYYY")))))})))))}))),ya=Object(z.provideState)({initialState:function(){return{examSessionLoading:!0,currentExamId:void 0,review:void 0,unfinishedExams:void 0,finishedExams:void 0}},effects:{initialize:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a,n){var r,c,l,o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.match,!(c=r&&r.params&&r.params.reviewId)){t.next=16;break}return a.examSessionLoading=!0,t.prev=4,l=new je.a(c),t.next=8,a.mongodb.find({_id:l}).asArray();case 8:o=t.sent,a.review=o.pop(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),e.handleError(t.t0);case 15:a.examSessionLoading=!1;case 16:return t.next=18,e.getFinishedExams();case 18:return t.next=20,e.getUnfinishedExams();case 20:case"end":return t.stop()}},t,this,[[4,12]])}));return function(e,a){return t.apply(this,arguments)}}()},getFinishedExams:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.mongodb.find({type:"passed-exam",reviewId:a.review._id}).asArray();case 3:n=t.sent,a.finishedExams=n,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.handleError(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},getUnfinishedExams:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.mongodb.find({type:"exam",module:a.review.module,approved:!0},{projection:{_id:1,examDate:1,university:1,module:1}}).asArray();case 3:n=t.sent,a.unfinishedExams=Object(D.differenceBy)(n,a.finishedExams,"examDate"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.handleError(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},handleExamSessionValues:function(e,t){var a=t.target;return function(e){return Object(m.a)({},e,Object(Et.a)({},a.name,a.value))}},passExam:function(e,t){return function(e){e.currentExamId=void 0,setTimeout(function(){e.currentExamId=t},200)}},onFinishExam:function(e,t){var a=t.examId,n=t._module,c=t.university,l=t.examDate,o=t.grade,i=t.maxGrade;return function(){var t=Object(E.a)(p.a.mark(function t(s){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.mongodb.updateOne({module:n,type:"passed-exam",examId:new je.a(a),reviewId:new je.a(s.review._id)},{$set:{type:"passed-exam",reviewId:s.review._id,module:n,examId:a,university:c,examDate:l,grade:o,maxGrade:i}},{upsert:!0});case 2:return t.next=4,e.getFinishedExams();case 4:return t.next=6,e.getUnfinishedExams();case 6:ga()(r,{offset:0,align:"top"});case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},computed:{examStarted:function(e){var t=e.currentExamId;return Boolean(t)}}})(Object(z.injectState)(function(e){var t=e.effects,a=e.state,n=e.history;return a.examSessionLoading?i.a.createElement(k.L,{className:"my-3"},i.a.createElement(k.k,{md:{size:2,offset:5}},i.a.createElement("br",null),i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:V.a,width:"50",height:"50",alt:"Loading..."})),i.a.createElement("p",{className:"text-muted text-center"},"Examen en chargement ..."))):i.a.createElement("div",null,i.a.createElement(k.L,null,i.a.createElement(k.k,{md:"4"},i.a.createElement(k.L,{style:{marginBottom:"10px"}},i.a.createElement(k.k,null,i.a.createElement(xa,{history:n,finishedExams:a.finishedExams,ref:function(e){r=e},scrollToExam:function(){return ga()(c,{offset:0,align:"top"})}}))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(ba,{history:n,unfinishedExams:a.unfinishedExams,ref:function(e){e},scrollToExam:function(){return ga()(c,{offset:0,align:"top"})}})))),i.a.createElement(k.k,{md:"8"},i.a.createElement(k.e,{className:"h-100",outline:!0},i.a.createElement(k.f,null,a.examStarted?i.a.createElement(fa,{examId:a.currentExamId,onFinishExam:t.onFinishExam,ref:function(e){c=e}}):i.a.createElement("div",null,i.a.createElement("span",{style:{fontWeight:"bold"}},"R\xe9vision du module"," ",i.a.createElement("span",{style:{color:"#2098d1"}},a.review.module)),i.a.createElement("div",{className:"text-muted",style:{fontSize:"25px",textAlign:"center",marginTop:"100px"}},"Cliquez sur un examen pour le commencer",i.a.createElement("div",{className:"text-center",style:{marginTop:"20px"}},i.a.createElement("img",{src:gt.a,alt:"koala",height:"200",width:"200"})))))))))})),wa=function(){return i.a.createElement("footer",{className:"navbar fixed-bottom text-muted",style:{backgroundColor:"#efefef"}},i.a.createElement("div",null,"Tous les examens publi\xe9s sont v\xe9rfi\xe9s ",i.a.createElement(He.a,{size:"20",color:"green"})," "),i.a.createElement("div",null,"\xa9 copyright Scorpion Group"))},ka=a(109),ja=a.n(ka),Oa=Object(z.injectState)(function(e){var t=e.history,a=e.state;return i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100 hvr-sweep-to-bottom"},i.a.createElement(k.h,{top:!0,width:"100%",src:ja.a,style:{cursor:"pointer"},alt:"Card image cap",onClick:function(){a.logged?t.push("/contribuer"):t.push("/authenticate")}}),i.a.createElement("span",{onClick:function(){a.logged?t.push("/contribuer"):t.push("/authenticate")},className:"text-center",style:{backgroundColor:"#7bc3d1",color:"white",display:"block",cursor:"pointer"}},i.a.createElement("h5",{style:{marginTop:"10px"}},"Contribuer\xa0",i.a.createElement(g.a,{size:"22"}))),i.a.createElement(k.f,null,i.a.createElement(k.i,{style:{textAlign:"center",fontSize:"18px"}},"Vous avez passez un examen ? Pourquoi pas l'ajouter pour que vos succusseurs en b\xe9n\xe9ficieront, ou peut \xeatre vous le trouverez quand vous r\xe9viserez pour le concours. Vivez l'exp\xe9rience du b\xe9n\xe9volat et regardez l'ampleur de votre contribution ",i.a.createElement(F.a,null)," avec Hakima QCM",i.a.createElement("div",{style:{marginTop:"10px"}},i.a.createElement(k.c,{id:"contribute-tooltip",onClick:function(){a.logged?t.push("/contribuer"):t.push("/authenticate")},style:{backgroundColor:"#e63a3a"}},"Contribuer"),i.a.createElement(k.Q,{placement:"top",target:"contribute-tooltip"},"Dieu a dit: Quiconque viendra avec le bien aura dix fois autant. Al An-aam-6-160")))))}),Sa=a(110),Ca=a.n(Sa),Na=Object(z.injectState)(function(e){var t=e.history;e.state;return i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100 hvr-sweep-to-bottom"},i.a.createElement(k.h,{top:!0,width:"100%",style:{cursor:"pointer"},src:Ca.a,alt:"Card image cap",onClick:function(){t.push("/examen")}}),i.a.createElement("span",{onClick:function(){t.push("/examen")},className:"text-center",style:{backgroundColor:"#7bc3d1",color:"white",display:"block",cursor:"pointer"}},i.a.createElement("h5",{style:{marginTop:"10px"}},"Passer un examen\xa0",i.a.createElement(ua.a,{size:"25"}))),i.a.createElement(k.f,null,i.a.createElement(k.i,{style:{textAlign:"center",fontSize:"18px"}},"Envie de savoir o\xf9 vous en \xeates dans votre r\xe9vision ? remontez le niveau en passant des ",i.a.createElement("strong",null,"QCM")," en ligne. Vous voulez encore plus ? Cr\xe9er un compte et profitez du suvie de r\xe9vision cr\xe9e sp\xe9cialement par des experts de E-learning pour organiser votre r\xe9vision.",i.a.createElement("div",{style:{marginTop:"10px"}},i.a.createElement(k.c,{style:{backgroundColor:"#e63a3a"},onClick:function(){t.push("/examen")}},"Passer un examen")))))}),Aa=a(111),za=a.n(Aa),Da=Object(z.injectState)(function(e){e.history,e.state;return i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100 hvr-sweep-to-bottom"},i.a.createElement(k.h,{top:!0,width:"100%",src:za.a,style:{cursor:"pointer"},alt:"Card image cap"}),i.a.createElement(k.f,null,i.a.createElement(k.i,{style:{textAlign:"center",fontSize:"18px"}},i.a.createElement("strong",null,"Jetez les papiers"),". Avec votre"," ",i.a.createElement("strong",null,"smartphone")," ou avec votre"," ",i.a.createElement("strong",null,"ordinateur portable")," vous pouvez consulter tous les examens des ",i.a.createElement("strong",null,"promotions pr\xe9c\xe9dentes"))))}),Pa=a(112),Ia=a.n(Pa),La=Object(z.injectState)(function(e){e.history,e.state;return i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100 hvr-sweep-to-bottom"},i.a.createElement(k.h,{top:!0,width:"100%",src:Ia.a,style:{cursor:"pointer"},alt:"Card image cap"}),i.a.createElement(k.f,null,i.a.createElement(k.i,{style:{textAlign:"center",fontSize:"18px"}},i.a.createElement(C.a,{to:"/authenticate?toggle=createAccount"},"Cr\xe9ez un compte")," ","et suivez votre r\xe9vision jusqu'au concours"),i.a.createElement(k.i,{style:{textAlign:"center",fontSize:"18px"}},i.a.createElement("strong",null,"Hakima QCM")," vous aide \xe0 focaliser sur vos faiblesses")))}),Ma=a(113),qa=a.n(Ma),Qa=Object(z.injectState)(function(e){e.history,e.state;return i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100 hvr-sweep-to-bottom"},i.a.createElement(k.h,{top:!0,width:"100%",src:qa.a,style:{cursor:"pointer"},alt:"Card image cap"}),i.a.createElement(k.f,null,i.a.createElement(k.i,{style:{textAlign:"center",fontSize:"18px"}},i.a.createElement("strong",null,"Hakima QCM")," vous aide \xe0 mieux r\xe9viser en organisant et triant les examens \xe0 votre place")))}),Ra=a(114),Va=a.n(Ra),Ta=Object(z.injectState)(function(e){e.history,e.state;return i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100 hvr-sweep-to-bottom"},i.a.createElement(k.h,{top:!0,width:"100%",src:Va.a,style:{cursor:"pointer"},alt:"Card image cap"}),i.a.createElement(k.f,null,i.a.createElement(k.i,{style:{textAlign:"center",fontSize:"18px"}},"Etudiant(e) en ",i.a.createElement("strong",null,"m\xe9decine")," ?"),i.a.createElement(k.i,{style:{textAlign:"center",fontSize:"18px"}},i.a.createElement("strong",null,"Marre d'acheter")," des EMD ?"),i.a.createElement(k.i,{style:{textAlign:"center",fontSize:"18px"}},i.a.createElement("strong",null,"Fatigu\xe9")," d'organiser votre r\xe9vision ?")))}),_a=Object(z.injectState)(function(e){e.history,e.state;return i.a.createElement(k.L,null,i.a.createElement(k.k,{md:"3",xs:"12",style:{marginBottom:"15px"}},i.a.createElement(Ta,null)),i.a.createElement(k.k,{md:"3",xs:"12",style:{marginBottom:"15px"}},i.a.createElement(Qa,null)),i.a.createElement(k.k,{md:"3",xs:"12",style:{marginBottom:"15px"}},i.a.createElement(Da,null)),i.a.createElement(k.k,{md:"3",xs:"12",style:{marginBottom:"15px"}},i.a.createElement(La,null)))}),Ya=a(50),Ba=a.n(Ya),Wa=a(115),Fa=a.n(Wa),Ua=a(116),Ha=a.n(Ua),Ga=Object(z.injectState)(function(e){var t=e.state,a=e.history;return i.a.createElement(k.e,Object(Et.a)({style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100"},"style",{border:"none"}),i.a.createElement(k.e,{body:!0,style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100 w-100 hvr-sweep-to-bottom",onClick:function(){return a.push("/authenticate")}},i.a.createElement(k.i,{className:"text-center"},i.a.createElement(I.a,{size:"30"})),i.a.createElement(k.i,{className:"text-center",style:{fontSize:"20px",fontVariant:"small-caps",fontWeight:"bold"}},"se connecter / s'inscrire")),i.a.createElement("br",null),i.a.createElement(k.e,{body:!0,style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100 w-100 hvr-sweep-to-bottom",onClick:function(){return a.push("/examen")}},i.a.createElement(k.i,{className:"text-center"},i.a.createElement(Ba.a,{size:"30"})),i.a.createElement(k.i,{className:"text-center",style:{fontSize:"20px",fontVariant:"small-caps",fontWeight:"bold"}},"chercher un module")),i.a.createElement("br",null),i.a.createElement(k.e,{body:!0,style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100 w-100 hvr-sweep-to-bottom",onClick:function(){return a.push("/marevision")}},i.a.createElement(k.i,{className:"text-center"},i.a.createElement(Ha.a,{size:"30"})),i.a.createElement(k.i,{className:"text-center",style:{fontSize:"20px",fontVariant:"small-caps",fontWeight:"bold"}},"suivre votre r\xe9vision")),i.a.createElement("br",null),i.a.createElement(k.e,{body:!0,style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100 w-100 hvr-sweep-to-bottom",onClick:function(){return a.push(t.logged?"/contribuer":"/authenticate?toggle=authentication")}},i.a.createElement(k.i,{className:"text-center"},i.a.createElement(Fa.a,{size:"30"})),i.a.createElement(k.i,{className:"text-center",style:{fontSize:"20px",fontVariant:"small-caps",fontWeight:"bold"}},"contribuer")))}),$a=a(117),Ka=a.n($a),Ja=a(60),Xa=a.n(Ja),Za=a(118),en=a.n(Za),tn=Object(z.injectState)(function(e){var t=e.state,a=e.history;return i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100"},i.a.createElement("span",{className:"text-center hvr-bounce-to-right",style:{backgroundColor:"#7bc3d1",color:"white",display:"block",cursor:"pointer"}},i.a.createElement("h5",{style:{marginTop:"10px"}},"Examens ajout\xe9s R\xe9cements\xa0\xa0",i.a.createElement(en.a,{size:"25"}))),i.a.createElement(k.f,null,i.a.createElement(k.O,{hover:!0,size:"sm"},i.a.createElement("tbody",null,t.lastPostedExams?t.lastPostedExams&&0===t.lastPostedExams.length?i.a.createElement("h3",{className:"text-center text-muted"},i.a.createElement("br",null),"Pas d'examens ajout\xe9s :( \xa0",i.a.createElement(ve.a,{size:"30"}),i.a.createElement("br",null)):Object(D.map)(t.lastPostedExams,function(e){return i.a.createElement("tr",{onClick:function(){a.push("/examen/".concat(e._id))},style:{cursor:"pointer"}},i.a.createElement("td",null,i.a.createElement("h5",null,i.a.createElement(k.b,{color:"info"},i.a.createElement(Xa.a,null),"\xa0",e.module))),i.a.createElement("td",null,i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},ce()(e.examDate).format("DD-MM-YYYY")))),i.a.createElement("td",null,i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},i.a.createElement(Ka.a,null)," ",e.university))),i.a.createElement("td",{className:"align-items-center"},i.a.createElement("h6",null,i.a.createElement(F.a,{size:"18",color:"gray"}),"\xa0",i.a.createElement(k.b,{color:"light"},e.seen||0))))}):i.a.createElement(k.L,{className:"my-3"},i.a.createElement(k.k,{md:{size:2,offset:5}},i.a.createElement("br",null),i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:V.a,width:"50",height:"50",alt:"Loading..."}))))))))}),an=Object(z.provideState)({initialState:function(){return{activeTab:"authentication",launchedFromAPK:!1}},effects:{initialize:function(){return function(e){window.matchMedia("(display-mode: standalone)").matches&&(e.launchedFromAPK=!0)}},toggle:function(e,t){return function(e){return Object(m.a)({},e,{activeTab:t})}}}})(Object(z.injectState)(function(e){e.effects;var t=e.state,a=e.history;return i.a.createElement("div",null,t.launchedFromAPK&&i.a.createElement(o.Fragment,null,i.a.createElement(Ga,{history:a}),i.a.createElement("br",null)),i.a.createElement(_a,null),i.a.createElement("br",null),i.a.createElement(k.L,null,i.a.createElement(k.k,{md:"6",style:{marginBottom:"15px"}},i.a.createElement(tn,{history:a})),i.a.createElement(k.k,{md:"3",style:{marginBottom:"15px"}},i.a.createElement(Oa,{history:a})),i.a.createElement(k.k,{md:"3",style:{marginBottom:"15px"}},i.a.createElement(Na,{history:a}))))})),nn=a(119),rn=a.n(nn),cn=a(120),ln=a.n(cn),on=Object(z.provideState)({effects:{deleteExam:function(e,t){return function(){var a=Object(E.a)(p.a.mark(function a(n){var r;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=new je.a(t),a.next=4,n.mongodb.deleteOne({_id:r});case 4:e.getPostedexamSessions(),e.notifySuccess("Examen bien supprim\xe9 !"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),e.handleError(a.t0);case 11:case"end":return a.stop()}},a,this,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()}}})(Object(z.injectState)(function(e){var t=e.examSessions;return t?t&&0===t.length?i.a.createElement("h3",{className:"text-center text-muted"},i.a.createElement("br",null),"Pas de r\xe9vision ajout\xe9e :( \xa0",i.a.createElement("br",null)):i.a.createElement(k.O,{size:"sm",hover:!0},i.a.createElement("thead",null,i.a.createElement("th",null,"Module"),i.a.createElement("th",null,"Progr\xe8s par rapports aux examens compl\xe9t\xe9s"),i.a.createElement("th",null,i.a.createElement("span",{className:"float-right"},"action"))),i.a.createElement("tbody",null,i.a.createElement(o.Fragment,null,Object(D.map)(t,function(e){return i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("h5",null,i.a.createElement(k.b,{color:"info"},e.module))),i.a.createElement("td",null,i.a.createElement("div",{className:"progress"},i.a.createElement("span",{className:"progress-bar progress-bar-striped",role:"progressbar",style:{width:"".concat(100*e.numberOfPassedExams/e.numberOfExistingExams,"%")},"aria-valuemin":"0","aria-valuemax":"100"})),i.a.createElement("h5",null,i.a.createElement("span",{className:"badge badge-light float-right"},"".concat(e.numberOfPassedExams,"/").concat(e.numberOfExistingExams," examen pass\xe9")))),i.a.createElement("td",null,i.a.createElement(C.a,{className:"btn btn-dark btn-sm float-right hvr-icon-fade hvr-icon-float-away",to:"/marevision/".concat(e._id.toString())},"Suivre ",i.a.createElement(rn.a,{className:"hvr-icon"}))))})))):i.a.createElement(k.L,{className:"my-3"},i.a.createElement(k.k,{md:{size:2,offset:5}},i.a.createElement("br",null),i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:V.a,width:"50",height:"50",alt:"Loading..."}),i.a.createElement("p",null,"Calcul de votre progr\xe9s"),i.a.createElement("div",{style:{marginTop:"10px"}},i.a.createElement(ln.a,{size:"40",color:"gray"})))))})),sn=Object(z.provideState)({initialState:function(){return{examSessions:void 0,module:""}},effects:{initialize:function(){var e=Object(E.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserExamSessions();case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),handleSessionInputs:function(e,t){var a=t.target;return function(e){return Object(m.a)({},e,Object(Et.a)({},a.name,a.value))}},getUserExamSessions:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n,r,c,l,o,i,s,u,m;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.mongodb.find({type:"review",creator:a.authId},{sort:{date:-1}}).asArray();case 3:n=t.sent,r=!0,c=!1,l=void 0,t.prev=7,o=n[Symbol.iterator]();case 9:if(r=(i=o.next()).done){t.next=22;break}return s=i.value,t.next=13,a.mongodb.count({type:"exam",module:s.module});case 13:return u=t.sent,t.next=16,a.mongodb.count({type:"passed-exam",reviewId:s._id});case 16:m=t.sent,s.numberOfExistingExams=u,s.numberOfPassedExams=m;case 19:r=!0,t.next=9;break;case 22:t.next=28;break;case 24:t.prev=24,t.t0=t.catch(7),c=!0,l=t.t0;case 28:t.prev=28,t.prev=29,r||null==o.return||o.return();case 31:if(t.prev=31,!c){t.next=34;break}throw l;case 34:return t.finish(31);case 35:return t.finish(28);case 36:a.examSessions=n,t.next=42;break;case 39:t.prev=39,t.t1=t.catch(0),e.handleError(t.t1);case 42:case"end":return t.stop()}},t,this,[[0,39],[7,24,28,36],[29,,31,35]])}));return function(e){return t.apply(this,arguments)}}()},createReviewSession:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.mongodb.find({type:"review",creator:a.authId,module:a.module}).iterator();case 3:return n=t.sent,t.next=6,n.next();case 6:if(!t.sent){t.next=11;break}e.notifyError("Vous avez d\xe9j\xe0 ouvert une session pour ce module !"),t.next=16;break;case 11:return t.next=13,a.mongodb.insertOne({type:"review",creator:a.authId,module:a.module,date:Date.now(),passedExams:[]});case 13:return t.next=15,e.getUserExamSessions();case 15:e.notifySuccess("Session cr\xe9\xe9e avec succ\xe9s, Vous pouvez la commencer en appuyant sur le boutton [suivre] sur votre tableau de r\xe9vision dessous");case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),e.handleError(t.t0);case 21:case"end":return t.stop()}},t,this,[[0,18]])}));return function(e){return t.apply(this,arguments)}}()}}})(Object(z.injectState)(function(e){var t=e.effects,a=e.state;return i.a.createElement(o.Fragment,null,i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("span",{className:"text-muted",style:{fontSize:"16px"}},"Suivez votre r\xe9vision en cr\xe9ant une session pour le module que vous souhaitez r\xe9viser"),i.a.createElement("span",{className:"float-right"},i.a.createElement(k.r,{id:"session-form"},i.a.createElement(k.t,null,i.a.createElement(k.v,null,i.a.createElement(k.u,{name:"module",onChange:t.handleSessionInputs,required:!0,type:"select",value:a.module,disabled:a.addExamStarted},i.a.createElement("option",{value:""},"Module *"),Bt&&Object(D.map)(Bt,function(e){return i.a.createElement("option",{key:e,value:e},e)})),i.a.createElement(k.w,{addonType:"append",style:{cursor:"pointer"}},i.a.createElement(_,{className:"hvr-icon-forward",text:i.a.createElement("span",null,"Ajouter une r\xe9vision ",i.a.createElement(kt.a,{className:"hvr-icon"})),color:"info",action:t.createReviewSession,form:"session-form"})))))))),i.a.createElement("hr",null),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("span",{className:"text-muted"},"Mes sessions de r\xe9vision"))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(on,{examSessions:a.examSessions}))))})),un=Object(z.provideState)({initialState:function(){return{}},effects:{}})(Object(z.injectState)(function(e){var t=e.history,a=e.state;e.effects;return a.logged?i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100"},i.a.createElement("span",{style:{backgroundColor:"#7bc3d1",color:"white",display:"block",cursor:"pointer"},className:"text-center"},i.a.createElement("h5",{style:{marginTop:"10px"}},"Ma r\xe9vision\xa0",i.a.createElement(ua.a,{size:"22"}))),i.a.createElement(k.f,null,i.a.createElement(k.i,null,i.a.createElement(sn,null)))):i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100"},i.a.createElement(k.f,null,i.a.createElement(k.i,{style:{textAlign:"center",fontSize:"20px"}},i.a.createElement(k.L,null,i.a.createElement(k.k,null,"Voulez vous suivre votre r\xe9vision ? trier les examens d\xe9j\xe0 pass\xe9 ? avoir la possibilit\xe9 de voir votre progression ?")),i.a.createElement(k.L,null,i.a.createElement(k.k,null,"Cr\xe9ez un compte et profitez du suivie intelligent de"," ",i.a.createElement("strong",null,"Hakima QCM"))),i.a.createElement("br",null),i.a.createElement(k.L,{style:{marginBottom:"10px"}},i.a.createElement(k.k,null,i.a.createElement(k.c,{color:"dark",onClick:function(){t.push("/authenticate?toggle=authentication")},className:"hvr-icon-fade"},"Se connecter\xa0",i.a.createElement(I.a,{size:"18",className:"hvr-icon"})))),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(k.c,{color:"info",onClick:function(){t.push("/authenticate?toggle=createAccount")},className:"hvr-icon-fade"},"Cr\xe9er un compte\xa0",i.a.createElement(Be.a,{size:"18",className:"hvr-icon"})))),i.a.createElement("br",null),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:gt.a,alt:"cute koala",height:"200",width:"200"})))))))})),mn=a(121),dn=a.n(mn),pn=a(45),En=a.n(pn),fn=a(46),hn=a.n(fn),vn=Object(z.provideState)({initialState:function(){return{collapseExams:!1,loadingExams:!1,exams:void 0}},effects:{toggleExams:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.collapseExams){t.next=3;break}return t.next=3,e.getExamsByYearAndUniv();case 3:return t.abrupt("return",Object(m.a)({},a,{collapseExams:!a.collapseExams}));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},getExamsByYearAndUniv:function(){return function(){var e=Object(E.a)(p.a.mark(function e(t,a){var n,r,c,l;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.year,r=a.university,c=a._module,t.loadingExams=!0,e.next=4,t.mongodb.find({type:"exam",module:c,university:r,examDate:{$lte:ce()("30/12/".concat(n),"DD-MM-YYYY").valueOf(),$gte:ce()("01/01/".concat(n),"DD-MM-YYYY").valueOf()}},{sort:{examDate:-1},projection:{_id:1,examDate:1,university:1,module:1,seen:1}}).asArray();case 4:l=e.sent,t.exams=l,t.loadingExams=!1;case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}}})(Object(z.injectState)(function(e){var t=e.state,a=e.effects,n=e.history,r=e.university;return i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("span",{style:{cursor:"pointer"},onClick:a.toggleExams,className:"hvr-bounce-in"},t.loadingExams?i.a.createElement("img",{src:V.a,alt:"loading",height:"20",width:"20"}):t.collapseExams?i.a.createElement(hn.a,{size:"20"}):i.a.createElement(En.a,{size:"20"}),r),t.collapseExams&&t.exams&&0===t.exams.length&&i.a.createElement("div",{style:{marginLeft:"10px"},className:"text-muted"},"Pas d'examens trouv\xe9s"),t.collapseExams&&t.exams&&t.exams.length>0&&i.a.createElement(k.O,{hover:!0,size:"sm"},i.a.createElement("tbody",null,Object(D.map)(t.exams,function(e){return i.a.createElement("tr",{onClick:function(){n.push("/examen/".concat(e._id))},style:{cursor:"pointer"}},i.a.createElement("td",{className:"text-center"},i.a.createElement("h5",null,i.a.createElement(k.b,{color:"info"},e.module))),i.a.createElement("td",null,i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},ce()(e.examDate).format("DD-MM-YYYY")))),i.a.createElement("td",null,i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},e.seen||0)," \xa0",i.a.createElement(F.a,{size:"20"}))))})))))})),gn=Object(z.provideState)({initialState:function(){return{collapse:!1}},effects:{toggle:function(){return function(e){e.collapse=!e.collapse}}}})(Object(z.injectState)(function(e){var t=e.state,a=e.effects,n=e.year,r=e._module,c=e.history;return i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("span",{style:{cursor:"pointer"},onClick:a.toggle,className:"hvr-bounce-in"},t.collapse?i.a.createElement(hn.a,{size:"20"}):i.a.createElement(En.a,{size:"20"})," ",n),t.collapse&&Object(D.map)(Xe,function(e){return i.a.createElement("div",{style:{marginLeft:"10px"}},i.a.createElement(vn,{_module:r,year:n,university:e.nom,history:c}))})))})),xn=Object(z.provideState)({initialState:function(){return{collapse:!1}},effects:{toggle:function(){return function(e){e.collapse=!e.collapse}}}})(Object(z.injectState)(function(e){var t=e.state,a=e.effects,n=e.history,r=e._module;return i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement("span",{style:{cursor:"pointer"},onClick:a.toggle,className:"hvr-bounce-in"},t.collapse?i.a.createElement(hn.a,{size:"20"}):i.a.createElement(En.a,{size:"20"})," ",r),t.collapse&&Object(D.map)(function(){for(var e=[],t=(new Date).getFullYear();t>(new Date).getFullYear()-15;t--)e.push(t);return e}(),function(e){return i.a.createElement("div",{style:{marginLeft:"10px"}},i.a.createElement(gn,{_module:r,year:e,history:n}))})))})),bn=Object(z.injectState)(function(e){e.state;var t=e.history;return i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100"},i.a.createElement("span",{className:"text-center hvr-bounce-to-right",style:{backgroundColor:"#7bc3d1",color:"white",display:"block",cursor:"pointer"}},i.a.createElement("h5",{style:{fontWeight:"bold",marginTop:"10px"}},"Explorateur d'examens\xa0",i.a.createElement(dn.a,{size:"25"}))),i.a.createElement(k.f,{style:{height:"300px",overflow:"scroll",overflowX:"hidden",fontSize:"18px"}},Object(D.map)(Bt,function(e){return i.a.createElement(xn,{history:t,_module:e})})))}),yn=a(122),wn=a.n(yn),kn=Object(z.provideState)({initialState:function(){return{module:"",year:"",_university:"",searchResult:void 0}},effects:{handleExamValues:function(e,t){var a=t.target;return function(e){return Object(m.a)({},e,Object(Et.a)({},a.name,a.value))}},handleSearchExam:function(){return function(){var e=Object(E.a)(p.a.mark(function e(t){var a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},""!==t.year&&(a={examDate:{$lte:ce()("30/12/".concat(t.year),"DD-MM-YYYY").valueOf(),$gte:ce()("01/01/".concat(t.year),"DD-MM-YYYY").valueOf()}}),e.next=4,t.mongodb.find(Object(m.a)({type:"exam",module:t.module,university:t._university},a),{projection:{_id:1,examDate:1,university:1,module:1,seen:1}}).asArray();case 4:n=e.sent,t.searchResult=n;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}}})(Object(z.injectState)(function(e){var t=e.history,a=e.state,n=e.effects;return i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100"},i.a.createElement("span",{className:"text-center hvr-bounce-to-right",style:{backgroundColor:"#7bc3d1",color:"white",display:"block",cursor:"pointer"}},i.a.createElement("h5",{style:{fontWeight:"bold",marginTop:"10px"}},"Chercher un examen \xa0",i.a.createElement(Ba.a,{size:"25"}))),i.a.createElement(k.f,null,i.a.createElement(k.i,null,i.a.createElement(k.r,{id:"search-exam-form"},i.a.createElement(k.t,null,i.a.createElement(k.u,{name:"module",onChange:n.handleExamValues,required:!0,type:"select",value:a.module,disabled:a.addExamStarted},i.a.createElement("option",{value:""},"Module *"),Bt&&Object(D.map)(Bt,function(e){return i.a.createElement("option",{key:e,value:e},e)}))),i.a.createElement(k.t,null,i.a.createElement(k.u,{name:"_university",onChange:n.handleExamValues,required:!0,type:"select",value:a._university,disabled:a.addExamStarted},i.a.createElement("option",{value:""},"Universit\xe9 *"),Xe&&Object(D.map)(Xe,function(e){return i.a.createElement("option",{key:e.code,value:e.nom},"".concat(e.code," - ").concat(e.nom))}))),i.a.createElement(k.t,null,i.a.createElement(k.u,{name:"year",onChange:n.handleExamValues,type:"select",value:a.year},i.a.createElement("option",{value:""},"Ann\xe9e"),Bt&&Object(D.map)(function(){for(var e=[],t=(new Date).getFullYear();t>(new Date).getFullYear()-25;t--)e.push(t);return e}(),function(e){return i.a.createElement("option",{key:e,value:e},e)}))),i.a.createElement(_,{text:i.a.createElement("span",null,"Chercher \xa0 ",i.a.createElement(Ba.a,null)),action:n.handleSearchExam,block:!0,form:"search-exam-form"})),i.a.createElement("br",null),void 0!==a.searchResult?i.a.createElement(o.Fragment,null,i.a.createElement("span",{className:"text-muted"},"R\xe9sultat de recherches"),i.a.createElement("hr",null)):i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:gt.a,alt:"koala",height:"200",width:"200"})),i.a.createElement("div",null,a.searchResult&&0===a.searchResult.length?i.a.createElement("div",{className:"text-center text-muted"},i.a.createElement("br",null),i.a.createElement("h3",null,"Pas d'examens trouv\xe9s :( \xa0",i.a.createElement(ve.a,{size:"30"})),i.a.createElement("br",null),i.a.createElement("div",null,i.a.createElement(k.c,{color:"warning",onClick:function(){a.logged?t.push("/contribuer?module=".concat(a.module,"&university=").concat(a._university)):t.push("/authenticate")}},"Saisir cet examen ",i.a.createElement(wn.a,{size:"18"})))):i.a.createElement(k.O,{size:"sm",hover:!0},i.a.createElement("tbody",null,Object(D.map)(a.searchResult,function(e){return i.a.createElement("tr",{onClick:function(){t.push("/examen/".concat(e._id))},style:{cursor:"pointer"}},i.a.createElement("td",{className:"text-center"},i.a.createElement("h5",null,i.a.createElement(k.b,{color:"info"},i.a.createElement(Xa.a,null),"\xa0",e.module))),i.a.createElement("td",null,i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},ce()(e.examDate).format("DD-MM-YYYY")))),i.a.createElement("td",null,i.a.createElement("h5",null,i.a.createElement(k.b,{color:"light"},e.seen||0)," \xa0",i.a.createElement(F.a,{size:"20"}))))})))))))})),jn=a(123),On=a.n(jn),Sn=Object(z.provideState)({initialState:function(){return{loading:!0}},effects:{initialize:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n,r,c,l,o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.loading=!0,n=[],r=Object.values(Bt),c=0;case 4:if(!(c<r.length)){t.next=19;break}return l=r[c],t.prev=6,t.next=9,a.mongodb.count({type:"exam",module:l,approved:!0});case 9:o=t.sent,n.push(o),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),e.handleError(t.t0);case 16:c++,t.next=4;break;case 19:document.getElementById("exams-chart")&&new On.a(document.getElementById("exams-chart"),{type:"bar",data:{labels:r,datasets:[{label:"Nombre d'examen",backgroundColor:["#3e95cd","#8e5ea2","#3cba9f","#e8c3b9","#c45850","#3e95cd","#8e5ea2","#3cba9f","#e8c3b9","#c45850","#3e95cd","#8e5ea2","#3cba9f","#e8c3b9","#c45850","#3e95cd","#8e5ea2","#3cba9f","#e8c3b9","#c45850","#3e95cd","#8e5ea2","#3cba9f","#e8c3b9","#c45850"],data:n}]},options:{legend:{display:!1},title:{display:!0,text:"Nombre d'examens saisit par module"},scales:{yAxes:[{minBarLength:1}]}}}),a.loading=!1;case 21:case"end":return t.stop()}},t,this,[[6,13]])}));return function(e){return t.apply(this,arguments)}}()}}})(Object(z.injectState)(function(e){var t=e.state;return i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)"},className:"h-100"},t.loading&&i.a.createElement(k.L,{className:"my-3"},i.a.createElement(k.k,{md:{size:2,offset:5}},i.a.createElement("br",null),i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:V.a,width:"50",height:"50",alt:"Loading..."})),i.a.createElement("div",{className:"text-center"},i.a.createElement("p",{className:"text-muted"},"Chargement de graphe de nombre d'examen par module")))),i.a.createElement("canvas",{id:"exams-chart",width:"400",height:"200"}))})),Cn=Object(z.provideState)({initialState:function(){return{addExamView:!1,initialExamData:void 0,examLoading:!1}},effects:{displayExamView:function(){return function(e){return Object(m.a)({},e,{addExamView:!0})}},hideExamView:function(){return function(e){return Object(m.a)({},e,{addExamView:!1})}}}})(Object(z.injectState)(function(e){e.effects,e.state;var t=e.history;return i.a.createElement("div",{style:{marginTop:"20px"}},i.a.createElement(k.L,null,i.a.createElement(k.k,{md:"6"},i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(kn,{history:t})))),i.a.createElement(k.k,{md:"6"},i.a.createElement(bn,{history:t}))),i.a.createElement("br",null),i.a.createElement(k.L,null,i.a.createElement(k.k,null,i.a.createElement(Sn,null))))})),Nn=Object(z.injectState)(function(e){e.history,e.state;return i.a.createElement(k.e,{style:{boxShadow:"0 3px 5px rgba(0,0,0,.1)",fontSize:"18px"},className:"h-100"},i.a.createElement(k.f,null,i.a.createElement(k.i,null,"Nous sommes une \xe9quipe qui travaille sur le E-learning. Nous veillons \xe0 vous offrir les meilleurs moyens pour m\xe9moriser l'information et la faire graver au plus profond de vos cerveaux."),i.a.createElement(k.i,null,"Nous utilisons l'intelligence artificiel pour identifier les choses que vous avez mal \xe0 retenir, ensuite, appuyer l\xe0 dessus pour vous aider \xe0 surmonter tous les d\xe9fis de la r\xe9vision par qcm."),i.a.createElement(k.i,null,"Toutes fois, nous avons besoin de votre"," ",i.a.createElement(C.a,{to:"/contribuer"},"collaboration")," que ce soit dans la saisit des examens o\xf9 dans les ",i.a.createElement(C.a,{to:"/contacteznous"},"retours")," de votre exp\xe9rience de l'utilisation de ",i.a.createElement("strong",null,"Hakima QCM"),"."),i.a.createElement(k.i,null,"Nous avons besoin de coop\xe9rer, avoir le sens de partage, \xeatre responsable de l'enseignement des g\xe9n\xe9rations \xe0 venir. Je vous invite \xe0"," ",i.a.createElement(C.a,{to:"/authenticate?toggle=createAccount"},"cr\xe9er \xe0 un compte")," ","et ajouter qu'un seul examen, laissez votre trace avant de vous lancer dans la vie professionel. Votre contribution sera une aide pour des milliers d'\xe9tudiants qui vont vous succ\xe9der et vous sera aussi tr\xe8s b\xe9nifique quand vous pr\xe9parerez pour le ",i.a.createElement("strong",null,"concours"),". Or, si vous \xeates croyant, votre contribution sera un aum\xf4ne perpetuel que vous trouverez dans l'haut del\xe0s."),i.a.createElement("hr",null),i.a.createElement(k.i,null,i.a.createElement("div",null,i.a.createElement("a",{href:"mailto:ghemidp8@gmail.com",className:"float-right"},"Contactez le d\xe9veloppeur"," ")))),i.a.createElement("br",null))}),An=a(124),zn=a(125),Dn=a(130),Pn=a(126),In=a(131),Ln=a(127),Mn=a.n(Ln),qn=function(e){function t(e){return Object(An.a)(this,t),Object(Dn.a)(this,Object(Pn.a)(t).call(this,e))}return Object(In.a)(t,e),Object(zn.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(k.B,{isOpen:this.props.mobileAppModalOpen,toggle:this.props.onClose,className:this.props.className},i.a.createElement(k.E,{toggle:this.toggle},i.a.createElement(Mn.a,null)," Application mobile"),i.a.createElement(k.C,null,i.a.createElement("div",{className:"text-center",style:{fontSize:"20px",fontWeight:"bold"}},"Installez l'application mobile en 2 secondes"),i.a.createElement("br",null),i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:_e.a,alt:"app icon",height:"130",width:"160"})),i.a.createElement("br",null)),i.a.createElement(k.D,null,i.a.createElement(k.c,{color:"primary",onClick:this.props.onAction},"Installer")," ",i.a.createElement(k.c,{color:"secondary",onClick:this.props.onClose},"Quitter"))))}}]),t}(i.a.Component),Qn=Object(z.provideState)({initialState:function(){return{authId:void 0,authEmail:void 0,university:void 0,mongodb:void 0,serverInstance:void 0,userNotConfirmed:void 0,postedExams:void 0,adminLogged:!1,lastPostedExams:void 0,noNeedToAuthenticate:!1,authLoading:!0,navbarCollapse:!0,proposeMobileApp:!1}},effects:{initialize:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.authLoading=!0,n=y.c.initializeDefaultAppClient("med-dz-qcm-idjwm"),a.serverInstance=n,a.mongodb=n.getServiceClient(y.b.factory,"mongodb-atlas").db("med-dz-qcm").collection("qcm"),!n.auth.user){t.next=8;break}"anon-user"!==n.auth.user.loggedInProviderName&&e.signIn(n.auth.user.id),t.next=16;break;case 8:return t.prev=8,t.next=11,n.auth.loginWithCredential(new y.a);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),e.handleError(t.t0);case 16:return t.next=18,e.handleAppQueryString();case 18:return a.authLoading=!1,t.next=21,e.getLastPostedExams();case 21:window.document.querySelectorAll(".navbar-nav>li>a").forEach(function(t){t.className.includes("dropdown-toggle nav-link")||t.addEventListener("click",function(){e.toggleNavbar()})}),window.addEventListener("beforeinstallprompt",function(e){a.proposeMobileApp=!0,e.preventDefault(),l=e}),window.addEventListener("appinstalled",function(t){a.proposeMobileApp=!1,e.notifySuccess("Application est install\xe9 avec succ\xe9s, vous allez la trouver sur votre \xe9cran d'accueil dans quelques secondes")});case 25:case"end":return t.stop()}},t,this,[[8,13]])}));return function(e){return t.apply(this,arguments)}}()},installMobileApp:function(e){l.prompt(),l.userChoice.then(function(e){"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),l=null})},stopProposingMobileApp:function(){return function(e){return Object(m.a)({},e,{proposeMobileApp:!1})}},setAuthEmail:function(e,t){return function(e){return Object(m.a)({},e,{authEmail:t})}},setAdminLogged:function(e){return function(e){e.adminLogged=!0}},logOut:function(){return function(e){e.serverInstance.auth.logout(),e.authId=void 0}},getPostedExams:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.mongodb.find({creator:a.authId,type:"exam"},{projection:{_id:1,examDate:1,date:1,approved:1,completed:1,university:1,module:1,seen:1}}).asArray();case 3:n=t.sent,a.postedExams=n,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.handleError(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},getLastPostedExams:function(e){return function(){var t=Object(E.a)(p.a.mark(function t(a){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.mongodb.find({approved:!0},{limit:15,sort:{date:-1},projection:{_id:1,examDate:1,university:1,module:1,seen:1}}).asArray();case 3:n=t.sent,a.lastPostedExams=n,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.handleError(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},handleAppQueryString:function(){return function(e){var t=window.location.search,a=new URLSearchParams(t),n=a.get("token"),r=a.get("tokenId"),c=a.get("method");if(n&&r){if(e.noNeedToAuthenticate=!0,"confirm"===c){var l="".concat(window.location.origin).concat(window.location.pathname,"#/confirm?token=").concat(n,"&tokenId=").concat(r);window.location.replace(l)}if("reset"===c){var o="".concat(window.location.origin).concat(window.location.pathname,"#/reset?token=").concat(n,"&tokenId=").concat(r);window.location.replace(o)}}}},notifyError:function(e,t){return function(e){j.toast.error(t,{position:"top-right",autoClose:15e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}},notifySuccess:function(e,t){return function(e){j.toast.success(t,{position:"top-right",autoClose:15e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}},handleError:function(){var e=Object(E.a)(p.a.mark(function e(t,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a),!(a instanceof y.d)){e.next=6;break}return e.next=4,t.notifyError(a.message);case 4:e.next=8;break;case 6:return e.next=8,t.notifyError("Oops, something went wrong! Don't worry, our team is already on it");case 8:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),getUserAccount:function(e,t){return function(){var a=Object(E.a)(p.a.mark(function a(n){var r,c;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=h.a.get("university")||"Alger",n.university=r,a.prev=2,a.next=5,n.mongodb.find({type:"user",authId:t,university:r}).asArray();case 5:c=a.sent,a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),e.handleError(a.t0);case 11:if(!Object(D.isEmpty)(c)){a.next=20;break}return a.prev=12,a.next=15,n.mongodb.insertOne({type:"user",authId:t,university:r});case 15:a.next=20;break;case 17:a.prev=17,a.t1=a.catch(12),e.handleError(a.t1);case 20:case"end":return a.stop()}},a,this,[[2,8],[12,17]])}));return function(e){return a.apply(this,arguments)}}()},signIn:function(e,t){return function(){var a=Object(E.a)(p.a.mark(function a(n){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getUserAccount(t);case 2:h.a.set("authId",t),n.authId=t,e.getPostedExams();case 5:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()},toggleNavbar:function(){return function(e){return Object(m.a)({},e,{navbarCollapse:!e.navbarCollapse})}}},computed:{logged:function(e){var t=e.authId;return Boolean(t)}}})(Object(z.injectState)(function(e){var t=e.effects,a=e.state;return i.a.createElement("div",{className:"App"},i.a.createElement(w.Helmet,null,i.a.createElement("title",null,"Hakima QCM")),i.a.createElement(j.ToastContainer,{position:"top-center",autoClose:2e4,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),a.authLoading?i.a.createElement(k.L,{className:"my-3"},i.a.createElement(k.k,{md:{size:2,offset:5}},i.a.createElement("br",null),i.a.createElement("div",{className:"text-center"},i.a.createElement("img",{src:V.a,width:"50",height:"50",alt:"Loading..."})),i.a.createElement("p",{className:"text-muted text-center"},"Application en chargement ..."))):a.mongodb&&a.serverInstance&&i.a.createElement(O.a,null,i.a.createElement(k.L,null,i.a.createElement(k.k,{xs:"12",md:"12"},i.a.createElement(k.I,{light:!0,expand:"lg",style:{backgroundColor:"#222534",fontSize:"16px",boxShadow:"0 3px 5px rgba(0,0,0,.1)"}},i.a.createElement(k.J,{href:"#",style:{margin:0},className:"hvr-icon-spin"},i.a.createElement("img",{src:_e.a,alt:"icon",height:"50",width:"60",className:"hvr-icon"})," ",i.a.createElement("span",{style:{color:"white",fontSize:"22px",verticalAlign:"middle"}},"Haki",i.a.createElement("strong",{style:{color:"#7bc3d1"}},"ma")," QCM")),i.a.createElement(k.K,{onClick:t.toggleNavbar,className:"mr-2",style:{backgroundColor:"#e2e3e4"}}),i.a.createElement(k.l,{isOpen:!a.navbarCollapse,navbar:!0},i.a.createElement(k.F,{className:"ml-auto",navbar:!0,style:{fontSize:"18px"}},i.a.createElement(k.G,{active:!1,className:"hvr-underline-reveal"},i.a.createElement(S.a,{className:"nav-link",to:"/accueil",style:{color:"#e2e3e4"},activeStyle:{color:"#7bc3d1"}},"Accueil")),i.a.createElement(k.G,{className:"hvr-underline-reveal"},i.a.createElement(S.a,{className:"nav-link",to:a.logged?"/contribuer":"/authenticate?toggle=authentication",style:{color:"#e2e3e4"},activeStyle:{color:"#7bc3d1"}},"Contribuer")),i.a.createElement(ha,null),i.a.createElement(k.G,{className:"hvr-underline-reveal"},i.a.createElement(S.a,{className:"nav-link",to:"/concours",style:{color:"#e2e3e4"},activeStyle:{color:"#7bc3d1"}},"Passer un concours")),i.a.createElement(k.G,{className:"hvr-underline-reveal"},i.a.createElement(S.a,{className:"nav-link",to:"/quisommesnous",style:{color:"#e2e3e4"},activeStyle:{color:"#7bc3d1"}},"Qui sommes nous ?")),i.a.createElement(k.G,{className:"hvr-underline-reveal"},i.a.createElement(S.a,{className:"nav-link",to:"/contacteznous",style:{color:"#e2e3e4"},activeStyle:{color:"#7bc3d1"}},"Contacter nous")),"\xa0",!a.logged&&i.a.createElement(o.Fragment,null,i.a.createElement(C.a,{className:"btn btn-light",to:"/authenticate?toggle=createAccount",onClick:t.toggleNavbar},"S'inscrire"),"\xa0",i.a.createElement(C.a,{className:"btn btn-info",to:"/authenticate?toggle=authentication",onClick:t.toggleNavbar},"Se connecter")),a.logged&&i.a.createElement(M,null)))),i.a.createElement(k.m,{fluid:!0,style:{marginTop:"20px"}},i.a.createElement(k.L,null,i.a.createElement(k.k,{md:{size:10,offset:1},xs:"12"},i.a.createElement(N.a,null,i.a.createElement(A.a,{exact:!0,path:"/accueil",component:an}),i.a.createElement(A.a,{exact:!0,path:"/",component:an}),i.a.createElement(A.a,{path:"/admin",component:Ve}),i.a.createElement(A.a,{path:"/confirm",component:mt}),i.a.createElement(A.a,{path:"/contacteznous",component:bt}),i.a.createElement(A.a,{path:"/concours",component:yt}),i.a.createElement(A.a,{path:"/reset",component:pt}),i.a.createElement(A.a,{path:"/authenticate",component:ct}),i.a.createElement(A.a,{exact:!0,path:"/examen",component:Cn}),i.a.createElement(A.a,{path:"/examen/:examId",component:fa}),i.a.createElement(A.a,{path:"/quisommesnous",component:Nn}),i.a.createElement(A.a,{exact:!0,path:"/marevision",component:un}),i.a.createElement(A.a,{exact:!0,path:"/marevision/:reviewId",component:ya}),a.logged&&i.a.createElement(o.Fragment,null,i.a.createElement(A.a,{exact:!0,path:"/contribuer",component:ia}),i.a.createElement(A.a,{path:"/contribuer/:examId",component:ia})),i.a.createElement(A.a,{exact:!0,component:an})))))))),i.a.createElement(qn,{onAction:t.installMobileApp,onClose:t.stopProposingMobileApp,mobileAppModalOpen:a.proposeMobileApp}),i.a.createElement(wa,null))})),Rn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Vn(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(202),a(204),a(206);u.a.render(i.a.createElement(Qn,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hakima-qcm",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/hakima-qcm","/service-worker.js");Rn?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Vn(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Vn(t,e)})}}()},21:function(e){e.exports={"8bc9c1c7-b43f-4e61-a599-429d46c6a83f":"Anatomy","8bc9c1c7-b43f-4e61-a599-429d46c6a83x":"Anapath","7283b6af-ff91-4eba-ab12-4b8818f2435f":"Cardiologie","66372a51-34ce-4012-8f75-9730b74d6599":"Dermatologie","fee01fb0-123b-4f0f-b9f9-b553d5417868":"Endocrinologie","fee01fb0-123b-4f0f-b9f9-b553d541786z":"Pharmacologie","07529740-7e7a-4c23-9c99-d5c0a4c15b27":"Gastrologie","c247078a-67eb-4d6b-8260-45bc59265ba6":"Gyn\xe9cologie","74c589a2-a3fe-4594-abee-ab7e50ebf450":"H\xe9matologie","74c589a2-a3fe-4594-abee-ab7e50ebf459":"Immunologie","ff1c0bfd-a2aa-487a-9d23-b794285fbbab":"Maladies infectieuses","9e49281c-45be-4cd8-9ebb-5eb85f6e5ad0":"M\xe9decine de travail","9e49281c-45be-4cd8-9ebb-5eb85f6e5adf":"Microbiologie","983637a3-1f8e-4bd5-ae56-43fcfc548879":"Neurologie","094f73c9-659e-495b-af5f-0f1164d96ec8":"N\xe9phrologie","5af1cc7f-1a77-42b2-89a4-30244498b646":"ORL","0f090082-65bc-49a7-ba87-ea6816ae0a06":"Ophtalmologie","74f7138d-0ef7-458e-99a9-e8d0990b4b8e":"Physiologie","74f7138d-0ef7-458e-99a9-e8d0990b4b8a":"Physiopath","3f525b96-78cc-4b50-a741-1566d4f6e674":"Psychiatrie","f5017879-7bc9-46cc-b0cd-626673b59445":"P\xe9diatrie","f5017879-7bc9-46cc-b0cx-626673b59445":"S\xe9miologie","514ca774-28ee-47ae-af62-991875b1df40":"Traumatologie","eaafa7fa-035d-4748-b209-a00abafe99f2":"Urologie"}},23:function(e,t,a){e.exports=a.p+"static/media/cute_koala.4127e90e.jpg"},29:function(e,t,a){},56:function(e,t,a){e.exports=a.p+"static/media/app-icon-brand.47dd4006.png"}},[[132,2,1]]]);
//# sourceMappingURL=main.3311b05d.chunk.js.map